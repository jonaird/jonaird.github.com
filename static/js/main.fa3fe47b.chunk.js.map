{"version":3,"sources":["components/PostComment.js","components/Post.js","components/NavBar.js","components/ProfileStats.js","components/SortAndFilter.js","components/FeedComment.js","components/Discussion.js","components/Alert.js","components/Feed.js","App.js","serviceWorker.js","index.js"],"names":["MoneyButton","require","default","convertToHex","str","hex","i","length","charCodeAt","toString","PostComment","props","upvoteClickHandler","user","console","log","slidingViewId","data","_id","upvoteButtonClicked","state","buttonId","window","$","animate","width","opacity","setState","loginHandler","upvoteHandler","document","getElementById","click","alreadyVoted","voteTotal","votes","includes","id","this","username","comment","comments","selfPost","userId","push","changeQueryHandler","replyHandler","key","style","class","onClick","type","contentType","sort","timePeriod","date","seconds","Math","floor","Date","interval","timeSince","timestamp","backgroundColor","marginLeft","label","onPayment","outputs","amount","currency","script","to","transaction","in","e","a","paddingLeft","React","Component","Post","title","description","numberOfComments","postView","post","open","url","NavBar","MoneyButtonClient","data-w-id","white-space","setTimeout","getElementsByClassName","scrollTop","scrollHeight","src","alt","display","height","cursor","localStorage","clear","location","reload","ProfileStats","amountEarned","numPosts","numComments","numVotes","SortAndFiler","changeQuery","queryChange","by","from","newQuery","query","changeSortAndFilter","inputChangeHandler","search","value","latestSearchQuery","JSON","parse","latestQuery","name","data-name","autoComplete","maxlength","placeholder","onChange","FeedComment","rootPost","txid","Discussion","sendMessageHandler","postDiscussionMessage","message","encodeURIComponent","b64","btoa","stringify","fetch","returnKeyHandler","keyCode","onkeypress","discussionFeed","nextItem","MessageLeft","MessageRight","UsernameLeft","UsernameRight","Action","postTitle","action","postTxid","vote","votedOnTitle","votedOn","Alert","closeAlert","cancelReplyHandler","onPaymentHandler","opreturn","reply","replyingTo","encodeURI","postUI","for","commentUI","Feed","runAnimationScripts","script2","createElement","body","appendChild","App","startNotificationSocket","socket","close","EventSource","onmessage","transactions","tx","out","s2","updatedTransactions","response","slice","s4","h","decodeURIComponent","s3","updateQuery","latestTxid","then","res","json","r","messageData","onScrollEnd","contentContainer","offsetHeight","numContentItems","setScrollEventListener","addEventListener","fetchData","Promise","resolve","result","requestAuthorization","getItem","URLSearchParams","has","client","handleAuthorizationResponse","getIdentity","getUserProfile","ampersandPosition","primaryPaymail","substring","setItem","history","pushState","scriptsLoaded","fontScriptsLoaded","hidden","visibilityChange","app","msHidden","webkitHidden","undefined","documentElement","setAttribute","$script","loading","showUser","postFeed","commentFeed","showSortAndFilter","singlePostView","contentItems","posts","feedData","feedComments","showFeed","loadingIndicator","justifyContent","className","Helmet","charset","content","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fa3fe47b.chunk.js","sourcesContent":["import React from 'react';\nlet MoneyButton = require('@moneybutton/react-money-button').default\nfunction convertToHex(str) {\n  var hex = '';\n  for (var i = 0; i < str.length; i++) {\n      hex += '' + str.charCodeAt(i).toString(16);\n  }\n  return hex;\n}\n\n\nfunction timeSince(date) {\n\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\n\n\nexport default class PostComment extends React.Component {\n\n  constructor(props) {\n    super(props);\n    var alreadyVoted = false\n    if(props.user&&props.data.votes.includes(this.props.user.id)){\n      alreadyVoted=true\n    }\n    this.state = {\n      upvoteButtonClicked: false,\n      alreadyVoted: alreadyVoted,\n      voteTotal: props.data.voteTotal\n    }\n  }\n  upvoteClickHandler = () => {\n\n    if(this.props.user){console.log('click')\n    var slidingViewId = '#' + this.props.data._id + 'slidingView';\n    var upvoteButtonClicked = this.state.upvoteButtonClicked;\n    var buttonId = '#' + this.props.data._id + 'button';\n\n    if (upvoteButtonClicked) {\n      window.$(slidingViewId).animate({ width: '0' }, 200, 'linear')\n      window.$(buttonId).animate({ opacity: 0 }, 500, 'linear')\n\n      this.setState({ upvoteButtonClicked: false })\n\n    } else {\n      window.$(slidingViewId).animate({ width: '170' }, 500, 'easeOutExpo')\n      window.$(buttonId).animate({ opacity: 0.15 }, 500, 'linear')\n\n      this.setState({ upvoteButtonClicked: true })\n\n    }}else{\n      this.props.loginHandler();\n    }\n\n\n  }\n  upvoteHandler = () => {\n    document.getElementById(this.props.data._id + 'button').click();\n    this.setState({\n      alreadyVoted: true,\n      voteTotal: this.state.voteTotal += 0.05\n    });\n    \n  }\n\n  render() {\n    var voteTotal = this.state.voteTotal.toString();\n    if (voteTotal[voteTotal.length - 2] == '.') {\n      voteTotal += '0'\n    }\n    var username = this.props.data.username;\n    var comment = this.props.data.comment;\n    // var description = this.props.postData.description;\n    // var numberOfComments = this.props.postData.numberOfComments;\n    let comments = [];\n    var selfPost =this.props.user&&this.props.data.userId === this.props.user.id\n    var buttonId = this.props.data._id + 'button';\n    var slidingViewId = this.props.data._id + 'slidingView';\n    var alreadyVoted = this.state.alreadyVoted;\n    if(this.props.user){\n      alreadyVoted=this.state.alreadyVoted||this.props.data.votes.includes(this.props.user.id)\n    }\n\n\n\n    for (let comment of this.props.data.comments) {\n      comments.push(<PostComment loginHandler={this.props.loginHandler} user={this.props.user} changeQueryHandler={this.props.changeQueryHandler} replyHandler={this.props.replyHandler} data={comment} key={comment._id} />)\n    }\n\n\n    return (\n      <div style={{}}>\n        <div class=\"div-block-40\">\n          <div class=\"content-item\">\n            <div class=\"content-item-top content-item-top-comment\">\n              <div class=\"div-block-8\">\n                <div class=\"text-block-8\">${voteTotal}</div>\n                <div class=\"text-block-9\" onClick={() => this.props.changeQueryHandler({ type: 'userFeed', userId: this.props.data.userId, contentType: 'post', sort: 'new', timePeriod: 'all time' })} >{username}</div>\n                <div class=\"text-block-6\">{timeSince(this.props.data.timestamp * 1000)} ago</div>\n              </div>\n              <div class=\"content-item-content content-item-content-post-view-comment\">\n                <div class=\"content-comment-post-view\">{comment}</div>\n                <div class=\"div-block-10 action-bar-comment\">\n                  <div class=\"div-block-11\">\n                    {selfPost?null:<div class=\"action-bar-button action-bar-button-comment action-bar-button-comment-left\">\n                      <div class=\"post-action\">{alreadyVoted ? \"🗳️✔️\" : \"Upvote\"}</div>\n                    </div>}\n                    <div class={selfPost?\"action-bar-button action-bar-button-comment action-bar-button-comment-left\":\"action-bar-button action-bar-button-comment\"}  onClick={() => this.props.replyHandler(this.props.data)}>\n                      <div class=\"post-action\"  >Reply</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          {selfPost ? null : <div style={{ backgroundColor: 'black', opacity: 0, marginLeft:90 }} onClick={this.state.alreadyVoted ? null : this.upvoteClickHandler} id={buttonId} class=\"div-block-44\"></div>}\n          <div style={{ width: \"0PX\" }} id={slidingViewId} class=\"div-block-41\">\n            <div class=\"div-block-42\">\n              <div class=\"div-block-43\">\n              {this.props.user?<MoneyButton\n                  label='upvote'\n                  onPayment={this.upvoteHandler}\n                  \n\n                  outputs={[\n                    {\n                      amount: 0,\n                      currency: 'BSV',\n                      type: 'SCRIPT',\n                      script: 'OP_RETURN ' + convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('post/vote') + ' ' + convertToHex('vote') + ' ' + convertToHex(this.props.data._id) + ' ' + convertToHex(this.props.user.id)\n\n                    }, {\n                      to: this.props.data.transaction.in[0].e.a,\n                      amount: \"0.05\",\n                      currency: 'USD',\n\n\n                    }\n\n                  ]}\n\n\n                />:null}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style={{ paddingLeft: 40 }}>\n          {comments}\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport PostComment from './PostComment';\nlet MoneyButton = require('@moneybutton/react-money-button').default\n\n//import $ from 'jquery';\nfunction convertToHex(str) {\n  var hex = '';\n  for (var i = 0; i < str.length; i++) {\n      hex += '' + str.charCodeAt(i).toString(16);\n  }\n  return hex;\n}\n\nfunction timeSince(date) {\n\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\nexport default class Post extends React.Component {\n\n  constructor(props) {\n    super(props);\n    var alreadyVoted = false\n    if(props.user&&props.data.votes.includes(props.user.id)){\n      alreadyVoted=true\n    }\n    this.state = {\n      upvoteButtonClicked: false,\n      alreadyVoted,\n      voteTotal: props.data.voteTotal\n    }\n  }\n\n  upvoteClickHandler = () => {\n\n    if(this.props.user){var slidingViewId = '#' + this.props.data._id + 'slidingView';\n    var upvoteButtonClicked = this.state.upvoteButtonClicked;\n    var buttonId = '#' + this.props.data._id + 'button';\n\n    if (upvoteButtonClicked) {\n      window.$(slidingViewId).animate({ width: '0' }, 200, 'linear')\n      window.$(buttonId).animate({ opacity: 0 }, 500, 'linear')\n\n      this.setState({ upvoteButtonClicked: false })\n\n    } else {\n      window.$(slidingViewId).animate({ width: '170' }, 500, 'easeOutExpo')\n      window.$(buttonId).animate({ opacity: 0.15 }, 500, 'linear')\n\n      this.setState({ upvoteButtonClicked: true })\n\n    }} else{\n      this.props.loginHandler()\n    }\n    \n\n  }\n\n  upvoteHandler = () => {\n    document.getElementById(this.props.data._id + 'button').click();\n    this.setState({\n      alreadyVoted: true,\n      voteTotal: this.state.voteTotal += 0.05\n    });\n    \n  }\n\n  componentDidMount() {\n    var buttonId = '#' + this.props.data._id + 'button';\n    var slidingViewId = '#' + this.props.data._id + 'slidingView';\n\n    var buttonClicked = this.state.upvoteButtonClicked\n\n    //   window.$(buttonId).click(function(){\n    //     if(buttonClicked){\n\n    //     } else{\n    //       window.$(slidingViewId).animate({width:'170'},500, 'easeOutExpo')\n    //     }\n    //   })\n\n  }\n\n  render() {\n\n    var voteTotal = this.state.voteTotal.toString();\n    if (voteTotal[voteTotal.length - 2] == '.') {\n      voteTotal += '0'\n    }\n    var username = this.props.data.username;\n    var title = this.props.data.title;\n    var description = this.props.data.description;\n    var numberOfComments = this.props.data.numberOfComments;\n    var buttonId = this.props.data._id + 'button';\n    var slidingViewId = this.props.data._id + 'slidingView';\n    var postView = this.props.postView;\n    var comments = [];\n    \n    var alreadyVoted = this.state.alreadyVoted;\n    if(this.props.user){\n      alreadyVoted=this.state.alreadyVoted||this.props.data.votes.includes(this.props.user.id)\n    }\n    var selfPost =this.props.user&&this.props.data.userId === this.props.user.id\n\n\n    \n\n\n    var numberOfComments = null;\n    if (!postView) {\n      numberOfComments = (<div class=\"action-bar-button action-bar-button-right\" onClick={() => this.props.changeQueryHandler({ type: 'post', post: this.props.data._id })} >\n        <div class=\"post-action\">{this.props.data.numberOfComments + ' comments'}</div>\n      </div>)\n    }\n    if (postView) {\n      for (let comment of this.props.data.comments) {\n        comments.push(<PostComment loginHandler={this.props.loginHandler} user={this.props.user} changeQueryHandler={this.props.changeQueryHandler} replyHandler={this.props.replyHandler} data={comment} />)\n      }\n\n\n    }\n\n    return (\n      \n      <div>\n        <div class=\"div-block-40\">\n          <div class=\"content-item\"  >\n            <div class=\"content-item-top\">\n              <div class=\"div-block-8\">\n                <div class=\"text-block-8\">{'$' + voteTotal}</div>\n                <div class=\"text-block-9\" onClick={() => this.props.changeQueryHandler({ type: 'userFeed', userId: this.props.data.userId, contentType: 'post', sort: 'new', timePeriod: 'all time' })} >{username}</div>\n                <div class=\"text-block-6\">{timeSince(this.props.data.timestamp * 1000) + ' ago'}</div>\n              </div>\n              <div class=\"content-item-content\">\n                <div><strong class=\"post-title\" onClick={() => window.open(this.props.data.url, '_blank')} >{title}</strong></div>\n                <div class=\"post-description\">{description}</div>\n              </div>\n            </div>\n            <div class=\"div-block-10\">\n              <div class=\"div-block-11\">\n                {selfPost ? null : <div class=\"action-bar-button\">\n                  <div class=\"post-action\">{alreadyVoted ? \"🗳️✔️\" : \"Upvote\"}</div>\n                </div>}\n                <div class=\"action-bar-button\" onClick={() => this.props.replyHandler(this.props.data)} >\n                  <div class=\"post-action\">Reply</div>\n                </div>\n                {numberOfComments}\n              </div>\n            </div>\n          </div>\n          {selfPost ? null : <div style={{ backgroundColor: 'black', opacity: 0 }} onClick={alreadyVoted ? null : this.upvoteClickHandler} id={buttonId} class=\"div-block-44\"></div>}\n          <div style={{ width: \"0PX\" }} id={slidingViewId} class=\"div-block-41\">\n            <div class=\"div-block-42\">\n              <div class=\"div-block-43\">\n                {this.props.user&&!selfPost&&!alreadyVoted?<MoneyButton\n                  label='upvote'\n                  onPayment={this.upvoteHandler}\n                  \n\n                  outputs={[\n                    {\n                      amount: 0,\n                      currency: 'BSV',\n                      type: 'SCRIPT',\n                      script: 'OP_RETURN ' + convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('post/vote') + ' ' + convertToHex('vote') + ' ' + convertToHex(this.props.data._id) + ' ' + convertToHex(this.props.user.id)\n\n                    }, {\n                      to: this.props.data.transaction.in[0].e.a,\n                      amount: \"0.05\",\n                      currency: 'USD',\n\n\n                    }\n\n                  ]}\n\n\n                />:null}\n                <div id=\"my-money-button\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style={{ paddingLeft: 40 }}>\n          {comments}\n        </div>\n\n      </div>\n    );\n  }\n}","import React from 'react'\nconst { MoneyButtonClient } = require('@moneybutton/api-client');\n\n\nconst NavBar = (props) => {\n\n\n    return (\n        <div class=\"bsvnews-bar nav-bar\">\n            <div class=\"bar-left\">\n                <div class=\"bar-item bar-item-left\" onClick={()=>props.changeQueryHandler({type:'feed',contentType:'post',sort:'top',timePeriod:'week'})} >\n                    <div class=\"text-block\">BSV NEWS</div>\n                </div>\n            </div>\n            <div class=\"bar-right\">\n                <div data-w-id=\"bfd75da2-a558-1d42-930b-2d1c229e9153\" class=\"bar-item bar-item-right bar-item-vertical\">\n                    <div class=\"div-block-2\">\n                        <div class=\"text-block-3\"> Reward Pool:<br /></div>\n                    </div>\n                    <div class=\"text-block-4\">$25</div>\n                </div>\n                <div data-w-id=\"a208a93f-16ae-9a9a-5d0b-dc012b7a4a6d\" class=\"bar-item bar-item-right boost-button\">\n                    <div class=\"cta-button\">\n                        <div white-space=\"nowrap\" class=\"text-block-5\">Boost</div>\n                    </div>\n                </div>\n                <div data-w-id=\"a1a6d7e7-53fb-49c3-4671-745f2b7ac08b\" onClick={()=>{\n                    setTimeout(()=>{\n                        document.getElementsByClassName('div-block-17')[0].scrollTop=document.getElementsByClassName('div-block-17')[0].scrollHeight\n\n                    },20)\n                }} class=\"bar-item bar-item-right chat-button bar-item-chat-button\"><img src=\"https://bico.media/517a09f903abb8f3e723c77ca5053aa16235bbdec8760753a0837c85a4cfe521\" alt=\"\" /></div>\n                <div data-w-id=\"b210fbe5-474f-7680-84c9-3c03a7f46447\" class=\"bar-item bar-item-right menu-button\">\n                    <div class=\"div-block-21\"><img src=\"https://bico.media/28de6e88249bd34f7ddd9df986c5a330a1804bd3b1fad5059544c7990f809830\" alt=\"\" /></div>\n                    <div class=\"div-block-22\"></div>\n                    <div data-w-id=\"e7b8d81a-166b-7bb5-40c3-0b8d93e8a08c\"\n                        style={{\n                            display: 'none',\n                            height: \"0PX\"\n                        }}\n                        class=\"div-block-22\">\n                        {props.user ? (<div style={{cursor:'pointer'}} onClick={()=>props.changeQueryHandler({type:'userFeed',userId:props.user.id,contentType:'post',timePeriod:'all time'})} data-w-id=\"e7b8d81a-166b-7bb5-40c3-0b8d93e8a08d\" class=\"div-block-23\" >\n                            <div class=\"text-block-14\">Profile</div>\n                        </div>) : null}\n                        <div data-w-id=\"b0f6535a-fe81-b57b-bf2e-c1e186875e2a\" style={{cursor:'pointer'}} class=\"div-block-23\" onClick={() => {\n                            if(props.user){\n                                localStorage.clear();\n                                window.location.reload();\n                            } else {\n                                props.loginHandler();\n                            }\n                        }} >\n                            <div class=\"text-block-14\">{props.user ? 'Logout' : 'Login'} </div>\n                        </div>\n\n                    </div>\n                </div>\n                <div data-w-id=\"73708752-5d81-4803-bd56-9bf062f332a6\"\n                    style={{ display: \"none\" }}\n                    onClick={()=>setTimeout(() => {\n                        document.getElementsByClassName('div-block-4')[0].style='display: flex;'\n                    }, 50) }\n                    id='close-discussion'\n                    class=\"bar-item bar-item-right bar-item-right-discussion-close\">\n                    <div class=\"username\">X</div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default NavBar;","import React from 'react';\n\nconst ProfileStats = (props)=>{\n  var amountEarned = props.data.amountEarned.toString();\n         if(amountEarned[amountEarned.length-2]=='.'){\n           amountEarned+='0'\n         }\n  return(\n    <div class=\"content-item content-item-profile\">\n                <div class=\"div-block-31\">\n                  <div class=\"text-block-17\">{props.data.username}</div>\n                  <div class=\"div-block-32\">\n                    <div class=\"profile-stat\">\n                      <div class=\"text-block-19\">Posts</div>\n                      <div class=\"text-block-18\">{props.data.numPosts}</div>\n                    </div>\n                    <div class=\"profile-stat\">\n                      <div class=\"text-block-19\">Comments</div>\n                      <div class=\"text-block-18\">{props.data.numComments}</div>\n                    </div>\n                    <div class=\"profile-stat profile-stat-right\">\n                      <div class=\"text-block-19\">Votes</div>\n                      <div class=\"text-block-18\">{props.data.numVotes}</div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"div-block-33\">\n                  <div class=\"text-block-20\">Earned</div>\n                  <div class=\"text-block-21\">{'$'+amountEarned}</div>\n                </div>\n              </div>\n);}\n\nexport default ProfileStats;","import React from 'react'\nimport $script from 'scriptjs';\n\nexport default class SortAndFiler extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: this.props.query\n    }\n\n\n  }\n\n  changeQuery = (queryChange) => {\n    var sort = queryChange.contentType;\n    var by  = queryChange.sort;\n    var from = queryChange.timePeriod;\n\n    if(sort){\n      document.getElementById(\"sort\").click();\n    } else if (by){\n      document.getElementById(\"by\").click();\n\n    } else if (from){\n      document.getElementById(\"from\").click();\n\n    }\n\n\n    var newQuery = {\n      ...this.props.query,\n      ...queryChange\n    }\n\n    this.setState({\n      query: newQuery\n    })\n\n    this.props.changeSortAndFilter(newQuery);\n  }\n\n  inputChangeHandler=()=>{\n    this.changeQuery({\n      search:document.getElementById('name-3').value\n    })\n  }\n\n \n\n\n  render() {\n    var sort;\n    var by;\n    var from;\n\n    \n\n    this.props.query.contentType == 'comment' ? sort = 'Comments' : sort = 'Posts';\n    this.props.query.sort == 'top' ? by = 'Top' : this.props.query.sort == 'new' ? by = 'New' : by = 'Hot';\n    switch(this.props.query.timePeriod){\n      case 'day':\n        from = 'Day';\n        break;\n      case 'week':\n        from = 'Week';\n        break;\n      case 'month':\n        from = 'Month';\n        break;\n      case 'all time':\n        from='All Time';\n        break;\n    }\n\n    var latestSearchQuery;\n    JSON.parse(this.props.latestQuery).search?latestSearchQuery=JSON.parse(this.props.latestQuery).search:latestSearchQuery=''\n\n\n    return (\n      <div style={{ width: '100%' }} >\n        <div class=\"w-form\">\n          <form id=\"email-form-3\" name=\"email-form-3\" data-name=\"Email Form 3\" >\n            <input type=\"text\" autoComplete=\"off\" value={latestSearchQuery} class=\"text-field-5 w-input\" maxlength=\"256\" name=\"name-3\" data-name=\"Name 3\" placeholder=\"Search\" id=\"name-3\" onChange={this.inputChangeHandler} />\n          </form>\n          \n        </div>\n        <div class=\"content-item parameters\" style={{ width: '100%' }} >\n          <div class=\"parameters-container\">\n            <div class=\"parameters-item\">\n              <div class=\"parameter-text parameter-item\">Sort:</div>\n            </div>\n            <div class=\"dropdown-container\">\n              <div data-w-id=\"83c3eaae-bf1d-1928-0b11-31907b7cf3d6\" id='sort' class=\"dropdown-trigger\">\n                <div class=\"parameter-text\">{sort}</div>\n              </div>\n              <div style={{ height: '0PX', display: \"none\" }} class=\"dropdown-content\">\n                <div data-w-id=\"3a2f1878-9d77-fb16-e68d-1dfe48353203\" class=\"dropdown-item\" onClick={() => this.changeQuery({ contentType: 'post' })}>\n                  <div class=\"parameter-text\">Posts</div>\n                </div>\n                <div data-w-id=\"2d9b06ef-22af-1a47-a5b5-2fc05b211be4\" class=\"dropdown-item\" onClick={() => this.changeQuery({ contentType: 'comment' })} >\n                  <div class=\"parameter-text\">Comments</div>\n                </div>\n              </div>\n            </div>\n            <div class=\"parameters-item\">\n              <div class=\"parameter-text parameter-item\">by:</div>\n            </div>\n            <div class=\"parameters-item parameters-item-dropdown\">\n              <div class=\"dropdown-container\">\n                <div data-w-id=\"4534be0a-5b81-6bc3-37f7-50b03c2e0e9b\" id='by' class=\"dropdown-trigger\">\n                  <div class=\"parameter-text\">{by}</div>\n                </div>\n                <div style={{ height: '0PX', display: \"none\" }} class=\"dropdown-content\">\n                  <div data-w-id=\"4534be0a-5b81-6bc3-37f7-50b03c2e0e9f\" class=\"dropdown-item\" onClick={() => this.changeQuery({ sort: 'hot' })}>\n                    <div class=\"parameter-text\">Hot</div>\n                  </div>\n                  <div data-w-id=\"eab1e4cf-2441-cd8d-fbb9-a8635a7bc9d3\" class=\"dropdown-item\" onClick={() => this.changeQuery({ sort: 'top' })}>\n                    <div class=\"parameter-text\">Top</div>\n                  </div>\n                  <div data-w-id=\"4534be0a-5b81-6bc3-37f7-50b03c2e0ea2\" class=\"dropdown-item\" onClick={() => this.changeQuery({ sort: 'new' })}>\n                    <div class=\"parameter-text\">New</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"parameters-container parameters-container-right\">\n            <div class=\"parameters-item\">\n              <div class=\"parameter-text parameter-item\">From:</div>\n            </div>\n            <div class=\"parameters-item parameters-item-dropdown\">\n              <div class=\"dropdown-container dropdown-container-right\">\n                <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b1d\" id='from' class=\"dropdown-trigger\">\n                  <div class=\"parameter-text\">{from}</div>\n                </div>\n                <div class=\"dropdown-content dropdown-content-right\" style={{ height: '0PX', display: \"none\" }} >\n                  <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b21\" class=\"dropdown-item\" onClick={() => this.changeQuery({ timePeriod: 'day' })}>\n                    <div class=\"parameter-text\">Day</div>\n                  </div>\n                  <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b24\" class=\"dropdown-item\" onClick={() => this.changeQuery({ timePeriod: 'week' })}>\n                    <div class=\"parameter-text\">Week</div>\n                  </div>\n                  <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b24\" class=\"dropdown-item\" onClick={() => this.changeQuery({ timePeriod: 'month' })}>\n                    <div class=\"parameter-text\">Month</div>\n                  </div>\n                  <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b27\" class=\"dropdown-item\" onClick={() => this.changeQuery({ timePeriod: 'all time' })}>\n                    <div class=\"parameter-text\">All Time</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\n","import React from 'react';\nlet MoneyButton = require('@moneybutton/react-money-button').default\nfunction convertToHex(str) {\n  var hex = '';\n  for (var i = 0; i < str.length; i++) {\n      hex += '' + str.charCodeAt(i).toString(16);\n  }\n  return hex;\n}\n\nfunction timeSince(date) {\n\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\nexport default class FeedComment extends React.Component {\n\n  constructor(props) {\n    super(props);\n    var alreadyVoted = false\n    if (props.user && props.data.votes.includes(this.props.user.id)) {\n      alreadyVoted = true\n    }\n    this.state = {\n      upvoteButtonClicked: false,\n      alreadyVoted: alreadyVoted,\n      voteTotal: props.data.voteTotal,\n\n    }\n  }\n  upvoteClickHandler = () => {\n\n    if (this.props.user) {\n      var slidingViewId = '#' + this.props.data._id + 'slidingView';\n      var upvoteButtonClicked = this.state.upvoteButtonClicked;\n      var buttonId = '#' + this.props.data._id + 'button';\n\n      if (upvoteButtonClicked) {\n        window.$(slidingViewId).animate({ width: '0' }, 200, 'linear')\n        window.$(buttonId).animate({ opacity: 0 }, 500, 'linear')\n\n        this.setState({ upvoteButtonClicked: false })\n\n      } else {\n        window.$(slidingViewId).animate({ width: '170' }, 500, 'easeOutExpo')\n        window.$(buttonId).animate({ opacity: 0.15 }, 500, 'linear')\n\n        this.setState({ upvoteButtonClicked: true })\n\n      }\n    } else {\n      this.props.loginHandler();\n    }\n\n\n  }\n  upvoteHandler = () => {\n\n    document.getElementById(this.props.data._id + 'button').click();\n    this.setState({\n      alreadyVoted: true,\n      voteTotal: this.state.voteTotal += 0.05\n    });\n\n  }\n\n  render() {\n    \n    var voteTotal = this.state.voteTotal.toString();\n    console.log(this.props.data.voteTotal)\n    if (voteTotal[voteTotal.length - 2] == '.') {\n      voteTotal += '0'\n    }\n    var username = this.props.data.username;\n    var selfPost = this.props.user && this.props.data.userId === this.props.user.id\n    var buttonId = this.props.data._id + 'button';\n    var slidingViewId = this.props.data._id + 'slidingView';\n    var alreadyVoted = this.state.alreadyVoted;\n    if (this.props.user) {\n      alreadyVoted = this.state.alreadyVoted || this.props.data.votes.includes(this.props.user.id)\n    }\n\n\n\n    console.log(this.props.data)\n    return (\n      <div class=\"div-block-40\">\n        <div class=\"content-item\">\n          <div class=\"content-item-top\">\n            <div class=\"div-block-8\">\n              <div class=\"text-block-8\">{'$' + voteTotal}</div>\n              <div class=\"text-block-9\" onClick={() => this.props.changeQueryHandler({ type: 'userFeed', userId: this.props.data.userId, contentType: 'post', sort: 'new', timePeriod: 'all time' })}>{username}</div>\n              <div class=\"text-block-6\">{timeSince(this.props.data.timestamp * 1000) + ' ago'}</div>\n            </div>\n            <div class=\"content-item-content content-item-content-comment\">\n              <div class=\"text-block-24\">in reply to <strong class=\"bold-text-5\" onClick={() => this.props.changeQueryHandler({ type: 'post', post: this.props.data.rootPost.txid })} >{this.props.data.rootPost.title}</strong></div>\n              <div class=\"comment-content\">{this.props.data.comment}</div>\n            </div>\n          </div>\n          <div class=\"div-block-10\">\n            <div class=\"div-block-11\">\n              {selfPost ? null : <div class=\"action-bar-button\">\n                <div class=\"post-action\">{alreadyVoted ? \"🗳️✔️\" : \"Upvote\"}</div>\n              </div>}\n              <div class=\"action-bar-button\" onClick={() => this.props.replyHandler(this.props.data)} >\n                <div class=\"post-action\">Reply</div>\n              </div>\n              <div class=\"action-bar-button\" onClick={() => this.props.changeQueryHandler({ type: 'post', post: this.props.data.rootPost.txid })}>\n                <div class=\"post-action\">Show Thread</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {selfPost ? null : <div style={{ backgroundColor: 'black', opacity: 0 }} onClick={this.state.alreadyVoted ? null : this.upvoteClickHandler} id={buttonId} class=\"div-block-44\"></div>}\n        <div style={{ width: \"0PX\" }} id={slidingViewId} class=\"div-block-41\">\n          <div class=\"div-block-42\">\n            <div class=\"div-block-43\">\n              {this.props.user ? <MoneyButton\n                label='upvote'\n                onPayment={this.upvoteHandler}\n                \n\n              outputs={[\n                {\n                  amount: 0,\n                  currency: 'BSV',\n                  type: 'SCRIPT',\n                  script: 'OP_RETURN ' + convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('post/vote') + ' ' + convertToHex('vote') + ' ' + convertToHex(this.props.data._id) + ' ' + convertToHex(this.props.user.id)\n\n                }, {\n                  to: this.props.data.transaction.in[0].e.a,\n                  amount: \"0.05\",\n                  currency: 'USD',\n\n\n                }\n\n              ]}\n\n\n              /> : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { jsonSerializers } from '@moneybutton/json-api';\n\nexport default class Discussion extends React.Component {\n\n\n\n  sendMessageHandler = () => {\n    if (this.props.user) {\n      this.props.postDiscussionMessage(document.getElementById('name').value);\n      var message = encodeURIComponent(document.getElementById('name').value);\n\n      // var urlParams = new URLSearchParams();\n      // urlParams.append('data',['allaboardtest',message,this.props.user.username])\n      var b64 = btoa(JSON.stringify({ type: 'postDiscussion', message, username: this.props.user.username }));\n      var url = 'http://127.0.0.1:2000/q/' + b64;\n      fetch(url)\n\n\n      // var http = new XMLHttpRequest;\n      // var url ='https://api.allaboard.cash/faucet/push';\n      // var params = 'data='+JSON.stringify(['allaboardtest',\"discussion\",message,this.props.user.username]);\n      // http.open('POST',url,true);\n      // http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n      // http.setRequestHeader('key', 'ZRfiqW9rdgDePXXeiT0mDEfYJgy8pwECnA');\n      // http.send(params);\n      document.getElementById('name').value = '';\n    } else {\n      this.props.loginHandler()\n    }\n\n\n  }\n\n  returnKeyHandler = (e) => {\n    if (e.keyCode == 13) {\n      this.sendMessageHandler();\n    }\n  }\n\n  componentDidMount() {\n    document.getElementById('name').onkeypress = (e) => this.returnKeyHandler(e)\n  }\n\n  render() {\n    var data = this.props.data;\n    var discussionFeed = [];\n    if (data) {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].type != 'discussion') {\n          discussionFeed.push(<Action data={data[i]} changeQueryHandler={this.props.changeQueryHandler} />)\n        } else {\n\n          var message = data[i];\n          if (this.props.user && message.username == this.props.user.username) {\n            discussionFeed.push(<MessageRight data={message.message} />)\n\n            var nextItem = data[i + 1];\n\n            if (nextItem) {\n              if (nextItem.type == 'discussion') {\n                if (this.props.user && nextItem.username != this.props.user.username) {\n                  discussionFeed.push(<UsernameRight data={this.props.user.username} />)\n                }\n              } else {\n                discussionFeed.push(<UsernameRight data={this.props.user.username} />)\n              }\n            } else {\n              discussionFeed.push(<UsernameRight data={this.props.user.username} />)\n            }\n\n          } else {\n            discussionFeed.push(<MessageLeft data={message.message} />)\n\n            var nextItem = data[i + 1];\n\n            if (nextItem) {\n              if (nextItem.type == 'discussion') {\n                if (nextItem.username != message.username) {\n                  discussionFeed.push(<UsernameLeft data={message.username} />)\n                }\n              } else {\n                discussionFeed.push(<UsernameLeft data={message.username} />)\n              }\n            } else {\n              discussionFeed.push(<UsernameLeft data={message.username} />)\n            }\n\n\n          }\n        }\n      }\n    }\n\n\n    return (\n      <div data-w-id=\"a59d307d-9930-6dfd-5525-555df24d9f6e\" style={{ display: \"none\" }} class=\"div-block-13\">\n        <div class=\"div-block-17\">\n          <div class=\"div-block-16\">\n            {discussionFeed}\n\n\n\n\n\n\n          </div>\n        </div>\n        <div class=\"div-block-14\">\n          <div class=\"form-block-2 w-form\">\n            <form id=\"email-form\" name=\"email-form\" data-name=\"Email Form\">\n              <input autoComplete=\"off\" type=\"text\" class=\"text-field-2 w-input\" maxlength=\"256\" name=\"name\" data-name=\"Name\" id=\"name\" />\n            </form>\n\n          </div>\n          <div class=\"div-block-35\" onClick={this.sendMessageHandler} >\n            <div class=\"text-block-22\">↑</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst MessageLeft = props => {\n  return (\n    <div class=\"discussion-post\">\n      <div class=\"text-block-12\">{props.data}</div>\n    </div>\n  )\n}\nconst MessageRight = props => {\n  return (\n    <div class=\"discussion-post discussion-post-right\">\n      <div class=\"text-block-12\">{props.data}</div>\n    </div>\n  )\n}\n\nconst UsernameLeft = props => (<div>\n  <div class=\"discussion-user\">{props.data}</div>\n</div>)\n\nconst UsernameRight = props => (<div class=\"discussion-user discussion-user-right\">{props.data}</div>)\n\nconst Action = props => {\n  var vote = props.data.type == 'vote';\n  var comment = props.data.type == 'comment';\n  var post = !vote && !comment;\n  var postTitle;\n  var username;\n  var action;\n  var postTxid;\n\n  if (vote) {\n    username = \"Someone\";\n    postTitle = props.data.votedOnTitle;\n    action = 'voted on'\n    postTxid = props.data.votedOn\n  } else if (comment) {\n    username = props.data.username;\n    postTitle = props.data.rootPost.title;\n    action = 'commented on'\n    postTxid = props.data.rootPost.txid\n  } else if (post) {\n    username = props.data.username;\n    postTitle = props.data.title;\n    action = 'posted';\n    postTxid = props.data._id\n  }\n\n  return (\n    <div class=\"discussion-notification\">\n      <strong class=\"bold-text-4\" onClick={() => {\n        props.changeQueryHandler({ type: 'userFeed', userId: props.data.userId, contentType: 'post', sort: 'new', timePeriod: 'all time' });\n        var windowWidth = window.$(window).width();\n        if (windowWidth < 768) {\n          document.getElementById('close-discussion').click();\n\n        }\n      }}\n      >{username}</strong> {action} <strong class=\"bold-text-3\" onClick={() => {\n        props.changeQueryHandler({ type: 'post', post: postTxid })\n        var windowWidth = window.$(window).width();\n        if (windowWidth < 768) {\n          document.getElementById('close-discussion').click();\n\n        }\n      }}\n      >{postTitle}</strong></div>)\n\n}","import React from 'react';\nlet MoneyButton = require('@moneybutton/react-money-button').default\n\nfunction convertToHex(str) {\n    var hex = '';\n    for (var i = 0; i < str.length; i++) {\n        hex += '' + str.charCodeAt(i).toString(16);\n    }\n    return hex;\n}\n\nexport default class Alert extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            url: '',\n            comment: ''\n\n        }\n    }\n\n    closeAlert = () => {\n        this.props.cancelReplyHandler();\n        this.setState({ title: '', url: '', comment: '' })\n    }\n\n    onPaymentHandler = () => {\n        document.getElementsByClassName('div-block-34')[0].click();\n        this.closeAlert();\n    }\n\n\n\n    render() {\n        var opreturn = ' '\n        var reply = this.props.replyingTo;\n        if (this.props.user && !reply) {\n            opreturn = convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('post/vote') + ' ' + convertToHex('post') + ' ' + convertToHex(encodeURIComponent(this.state.title)) + ' ' + convertToHex(encodeURI(this.state.url)) + ' ' + convertToHex(this.props.user.username) + ' ' + convertToHex(this.props.user.id)\n        } else if (this.props.user && reply) {\n            opreturn = convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('comment') + ' ' + convertToHex(this.props.replyingTo._id) + ' ' + convertToHex(encodeURIComponent(this.state.comment)) + ' ' + convertToHex(this.props.user.username) + ' ' + convertToHex(this.props.user.id)\n        }\n\n\n        var username;\n\n        if (reply) {\n            username = reply.username\n        }\n\n        var postUI = (<div data-w-id=\"20261b05-15ea-fd10-4303-6a6538f195e4\"\n            //style=\"-webkit-transform:translate3d(0, 100VH, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 100VH, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 100VH, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 100VH, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)\" \n            class=\"alert\">\n            <div class=\"alert-title\">\n                <div class=\"text-block-15\">Submit a Link</div>\n                <div data-w-id=\"c6b664e1-a7b1-959c-8ad1-97eaa9a9d996\" onClick={this.closeAlert} class=\"div-block-29\">\n                    <div class=\"text-block-16\">X</div>\n                </div>\n            </div>\n            <div class=\"form-block-3 w-form\">\n                <form id=\"email-form-2\" name=\"email-form-2\" data-name=\"Email Form 2\" class=\"form-2\"><label for=\"node\" class=\"field-label\">Write a title</label>\n                    <input onChange={() => this.setState({ title: document.getElementById('node').value })} value={this.state.title} type=\"text\" maxlength=\"256\" id=\"node\" class=\"text-field-3 w-input\" />\n                    <label for=\"node-2\" class=\"field-label-2\">URL</label>\n                    <input type=\"email\" maxlength=\"256\" id=\"node-2\" class=\"text-field-3 w-input\" value={this.state.url} onChange={() => this.setState({ url: document.getElementById('node-2').value })} /></form>\n\n            </div>\n            <div class=\"div-block-30\">\n                <div class='div-block-34' data-w-id=\"f78f9773-81a0-c31c-0a36-98ed96251b27\" style={{ width: 0, height: 0 }}></div>\n                <div class=\"submit-mb-container\">\n                    <MoneyButton\n                        onPayment={this.onPaymentHandler}\n                        outputs={[\n                            {\n                                amount: 0,\n                                currency: 'BSV',\n                                type: 'SCRIPT',\n                                script: 'OP_RETURN ' + opreturn\n                            }\n                        ]}\n                        label=\"Post\"\n\n                    />\n                </div>\n            </div>\n\n        </div>)\n\n        var commentUI = (<div data-w-id=\"20261b05-15ea-fd10-4303-6a6538f195e4\" class=\"alert\">\n            <div class=\"alert-title\">\n                <div class=\"text-block-15\">Comment</div>\n                <div data-w-id=\"85e8fe7e-fd06-e878-870a-8f8994664ecb\" onClick={this.closeAlert} class=\"div-block-29\">\n                    <div class=\"text-block-16\">X</div>\n                </div>\n            </div>\n            <div class=\"form-block-3 w-form\">\n                <form id=\"email-form-2\" name=\"email-form-2\" data-name=\"Email Form 2\" class=\"form-2\">\n                    <label for=\"node-3\" class=\"field-label-3\">Responding to <strong>{username}</strong></label>\n                    <textarea value={this.state.comment} onChange={() => this.setState({ comment: document.getElementById('field').value })} name=\"field\" maxlength=\"5000\" id=\"field\" class=\"text-field-3 comment-field w-input\"></textarea>\n                </form>\n\n            </div>\n            <div class=\"div-block-30\" >\n                <div  data-w-id=\"f78f9773-81a0-c31c-0a36-98ed96251b27\"  class='div-block-34' style={{ width: 0, height: 0}}></div>\n                <div class=\"submit-mb-container\" style={{ width: 140 }} >\n                    <MoneyButton\n                        onPayment={this.onPaymentHandler}\n                        outputs={[\n                            {\n                                amount: 0,\n                                currency: 'BSV',\n                                type: 'SCRIPT',\n                                script: 'OP_RETURN ' + opreturn\n                            }\n                        ]}\n                        label=\"Reply\"\n\n                    />\n\n                </div>\n            </div>\n            \n        </div>)\n\n\n        return (\n            <div>\n                <div data-w-id=\"45990265-012f-9c0a-8be9-a3e6027aab5b\" style={{ display: 'none', opacity: \"0\" }} class=\"div-block-24\"></div>\n                <div data-w-id=\"b374f5a9-da8a-caa3-6b31-5447c2256b80\" style={{ display: \"none\" }} class=\"div-block-25\">\n                    {reply ? commentUI : postUI}\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class Feed extends React.Component {\n    runAnimationScripts =()=>{\n        // var script1 = document.createElement('script');\n        // script1.src = 'https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js'\n        // //script1.async=true\n        // document.body.appendChild(script1);\n    \n        //webflow js\n        var script2 = document.createElement('script');\n        script2.src = 'https://bico.media/f214f48a0f5010efe27e0e4cbc1840af2bc94aae3c695847f8b64c6afa3b5686.js'\n        //script2.async=true\n        document.body.appendChild(script2);\n    \n      }\n\n    componentDidUpdate(){\n       // this.runAnimationScripts();\n    }\n\n    componentDidMount(){\n       // this.runAnimationScripts();\n    }\n\n    render(){\n        return this.props.data\n    }\n\n}","import React from 'react';\n\nimport './App.css';\nimport Post from './components/Post.js'\nimport NavBar from './components/NavBar.js'\nimport ProfileStats from './components/ProfileStats.js';\nimport SortAndFiler from './components/SortAndFilter.js';\nimport FeedComment from './components/FeedComment.js';\n\nimport Discussion from './components/Discussion.js';\nimport Alert from './components/Alert.js';\nimport Feed from './components/Feed.js';\nimport $script from 'scriptjs';\n\nimport { Helmet } from 'react-helmet'\nconst { MoneyButtonClient } = require('@moneybutton/api-client');\n\n\n{/* <script src=\"https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js\" type=\"text/javascript\" integrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\" crossorigin=\"anonymous\"></script>\n  <script src=\"js/webflow.js\" type=\"text/javascript\"></script> */}\n\n///\"5b0188d2e84b38407c6dcac7abe974cf9b14e28cff79353b7e376045d9a7c353\"\nvar socket = null\n\nexport default class App extends React.Component {\n\n\n\n  constructor(props) {\n    super(props);\n    var query = {\n      type: 'feed',\n      // post:\"5b0188d2e84b38407c6dcac7abe974cf9b14e28cff79353b7e376045d9a7c353\"\n      contentType: 'post',\n      sort: 'top',\n      timePeriod: 'week'\n\n    }\n    var user = JSON.parse(localStorage.getItem('user'));\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.has('code')) {\n      const client = new MoneyButtonClient('c718a0b5fd8f38f4610ae5e1bf277d97');\n      client.handleAuthorizationResponse().then(() => {\n        client.getIdentity().then(res => {\n          client.getUserProfile(res.id).then(res => {\n\n            user = res\n\n            var ampersandPosition = user.primaryPaymail.search('@');\n\n            user.username = user.primaryPaymail.substring(0, ampersandPosition);\n            this.setState({\n              user\n            })\n            localStorage.setItem('user', JSON.stringify(res))\n\n            window.history.pushState({ id: 'homepage' }, 'BSV NEWS', 'https://www.bsvnews.today');\n          })\n\n        })\n      })\n    }\n\n    this.state = {\n      query,\n      latestQuery: JSON.stringify(query),\n      response: [],\n      scriptsLoaded: false,\n      fontScriptsLoaded: false,\n      user,\n\n      replyingTo: null,\n      numContentItems: 10\n    }\n\n\n\n    var b64 = btoa(JSON.stringify(this.state.query));\n    var url = 'https://www.bsvnews.today/q/' + b64;\n    fetch(url).then(res => {\n\n      return res.json();\n    }).then(r => {\n      var result = JSON.stringify(r, null, 2);\n      result = JSON.parse(result);\n      this.setState({\n        response: result,\n\n      }, () => {\n        this.setScrollEventListener();\n        this.startNotificationSocket();\n      })\n\n    })\n\n    window.app = this;\n\n    var hidden, visibilityChange;\n    if (typeof document.hidden !== \"undefined\") { // Opera 12.10 and Firefox 18 and later support \n      hidden = \"hidden\";\n      visibilityChange = \"visibilitychange\";\n    } else if (typeof document.msHidden !== \"undefined\") {\n      hidden = \"msHidden\";\n      visibilityChange = \"msvisibilitychange\";\n    } else if (typeof document.webkitHidden !== \"undefined\") {\n      hidden = \"webkitHidden\";\n      visibilityChange = \"webkitvisibilitychange\";\n    }\n\n\n    function handleVisibilityChange() {\n      if (!document[hidden]) {\n        window.app.reload();\n      }\n    }\n\n    // Warn if the browser doesn't support addEventListener or the Page Visibility API\n    if (typeof document.addEventListener === \"undefined\" || hidden === undefined) {\n      console.log(\"This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API.\");\n    } else {\n      // Handle page visibility change   \n      document.addEventListener(visibilityChange, handleVisibilityChange, false);\n\n    }\n\n  }\n\n  reload=()=>{\n    console.log('reload');\n    this.startNotificationSocket();\n    this.changeQueryHandler(JSON.parse(this.state.latestQuery));\n  }\n\n  startNotificationSocket = () => {\n    if(socket){\n      socket.close();\n    }\n    var socketQuery = { \"v\": 3, \"q\": { \"find\": { \"out.s1\": \"13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf\" } } };\n\n    var b64 = btoa(JSON.stringify(socketQuery))\n    // Subscribe to EventSource\n    var url = \"https://genesis.bitdb.network/s/1FnauZ9aUH2Bex6JzdcV4eNX7oLSSEbxtN/\" + b64;\n    var socket = new EventSource(url)\n    // Handle new messages\n\n    socket.onmessage = (e) => {\n\n      var transactions = JSON.parse(JSON.stringify(JSON.parse(e.data), null, 2)).data\n\n\n      console.log(transactions)\n      for (let tx of transactions) {\n        console.log(tx);\n        if (tx.out[0].s2 == 'discussion') {\n          var updatedTransactions = this.state.response[1].slice();\n          if (this.state.user) {\n            if (this.state.user.username != tx.out[0].s4) {\n              updatedTransactions.push({\n                type: 'discussion',\n                _id: tx.tx.h,\n                message: decodeURIComponent(tx.out[0].s3),\n                username: tx.out[0].s4\n              })\n            }\n\n          } else {\n            updatedTransactions.push({\n              type: 'discussion',\n              _id: tx.tx.h,\n              message: decodeURIComponent(tx.out[0].s3),\n              username: tx.out[0].s4\n            })\n          }\n          this.setState({ response: [this.state.response[0], updatedTransactions, this.state.response[2]] })\n        } else {\n          var updateQuery=this.state.latestQuery\n          var query = { type: 'update', latestTxid: tx.tx.h, query: JSON.parse(this.state.latestQuery) }\n          var b64 = btoa(JSON.stringify(query));\n          var url = 'https://wwww.bsvnews.today/q/' + b64;\n          fetch(url).then(res => {\n\n            return res.json();\n          }).then(r => {\n            var response = JSON.stringify(r, null, 2);\n            response = JSON.parse(response);\n            if(updateQuery==this.state.latestQuery){\n              this.setState({\n                response\n              })\n            }\n          })\n\n\n        }\n\n      }\n\n\n\n\n\n\n    }\n  }\n\n  postDiscussionMessage = (message) => {\n    var messageData = { type: 'discussion', message, username: this.state.user.username };\n    var updatedTransactions = this.state.response[1].slice();\n    updatedTransactions.push(messageData);\n    this.setState({ response: [this.state.response[0], updatedTransactions, this.state.response[2]] });\n\n  }\n\n  onScrollEnd = (e) => {\n    var contentContainer = document.getElementById('content-container');\n    if (contentContainer.offsetHeight + contentContainer.scrollTop >= contentContainer.scrollHeight) {\n      this.setState({ numContentItems: this.state.numContentItems + 25 })\n    }\n  }\n\n  setScrollEventListener = () => {\n    var contentContainer = document.getElementById('content-container');\n    contentContainer.addEventListener('scroll', this.onScrollEnd)\n  }\n\n  fetchData = async (query) => {\n\n    return new Promise(async resolve => {\n      var b64 = btoa(JSON.stringify(query));\n      var url = 'https://www.bsvnews.today/q/' + b64;\n      fetch(url).then(res => {\n\n        return res.json();\n      }).then(r => {\n        var result = JSON.stringify(r, null, 2);\n        result = JSON.parse(result);\n        resolve(result);\n      })\n\n    })\n  }\n\n  changeQueryHandler = async (query) => {\n    this.setState({ latestQuery: JSON.stringify(query) });\n    var response = await this.fetchData(query);\n    //checks if query hasn't been updated while fetching\n    if (this.state.latestQuery == JSON.stringify(query)) {\n      this.setState({\n        query,\n        response,\n        numContentItems: 10\n      })\n    }\n\n  }\n\n\n\n  replyHandler = (replyingTo) => {\n\n    if(this.state.user){this.setState({\n      replyingTo\n    });\n    document.getElementById('composeButton').click();}\n    else{\n      this.loginHandler();\n    }\n\n  }\n\n  cancelReplyHandler = () => {\n    setTimeout(() => {\n      this.setState({ replyingTo: null })\n      \n    }, 500);\n  }\n\n\n\n  componentDidMount() {\n\n    document.documentElement.setAttribute(\"data-wf-page\", \"5d5c432099f8055a71480feb\");\n    document.documentElement.setAttribute(\"data-wf-site\", \"5d5c1eff40c6bef7ea85f7d4\");\n\n\n\n    //jquery plus webflow\n    $script(\n      'https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js'\n      , () => $script('https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js', () => $script('https://bico.media/bfbad1409a5c301ddaf3ea7da214d7d2f14bf7351f4980e610c6ed47703a29b7.js', () => this.setState({ scriptsLoaded: true }))))\n\n\n\n  }\n\n  componentWillMount() {\n\n    $script(\"https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js\", () => $script('https://bico.media/ad5d292aade21e9aea6074d1a0cdaa8cc44b96feff80afc35aa2bdca5a3fc8c0', () => this.setState({ fontScriptsLoaded: true })))\n  }\n\n  loginHandler = () => {\n    const client = new MoneyButtonClient('c718a0b5fd8f38f4610ae5e1bf277d97');\n    client.requestAuthorization('auth.user_identity:read users.profiles:read', 'https://www.bsvnews.today');\n  }\n\n\n\n  render() {\n    var loading = (JSON.stringify(this.state.query) != this.state.latestQuery) || (!this.state.scriptsLoaded) || this.state.response.length == 0;\n\n    var showUser = this.state.query.type == 'userFeed' && this.state.response[2] && JSON.parse(this.state.latestQuery).type == 'userFeed' && !loading;\n    var postFeed = this.state.query.contentType == 'post' || this.state.query.type == 'post';\n    var commentFeed = this.state.query.contentType == 'comment';\n    var showSortAndFilter = JSON.parse(this.state.latestQuery).type != 'post';\n    var singlePostView = this.state.query.type === 'post';\n\n\n    var contentItems = 0\n    var posts = [];\n    if (postFeed && this.state.response[0]) {\n      for (let post of this.state.response[0]) {\n        if (contentItems < this.state.numContentItems) {\n          posts.push(<Post loginHandler={this.loginHandler} changeQueryHandler={this.changeQueryHandler} key={post._id} data={post} postView={singlePostView} user={this.state.user} replyHandler={this.replyHandler} />)\n          contentItems++;\n        }\n      }\n    }\n    var feedComments = [];\n\n    if (commentFeed && this.state.response[0]) {\n\n      for (let comment of this.state.response[0]) {\n        if (contentItems < this.state.numContentItems) {\n          feedComments.push(<FeedComment loginHandler={this.loginHandler} changeQueryHandler={this.changeQueryHandler} key={comment._id} data={comment} user={this.state.user} replyHandler={this.replyHandler} />)\n          contentItems++;\n        }\n      }\n    }\n\n    var feedData;\n    if (postFeed) {\n      feedData = posts;\n    } else {\n      feedData = feedComments;\n    }\n    var showFeed = !loading && this.state.response[0];\n\n\n\n\n    var loadingIndicator = (\n      <div style={{ width: '100%', display: 'flex', justifyContent: 'center' }} ><img style={{ width: '40px', height: '40px' }} src='https://guerillascience.org/wp-content/plugins/bbpowerpack/images/spinner.gif' /> </div>\n    );\n\n    return (\n      <div className=\"body-2\" style={this.state.fontScriptsLoaded ? null : { opacity: 0 }} >\n        <Helmet>\n\n          <meta charset=\"utf-8\" />\n          <title>BSV NEWS</title>\n          <meta content=\"width=device-width, initial-scale=1, maximum-scale=1,user-scalable=0\" name=\"viewport\" />\n\n          <meta content=\"Webflow\" name=\"generator\" />\n          {/* <script src=\"https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js\" type=\"text/javascript\"></script> */}\n          {/* <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js\" type=\"text/javascript\"></script> */}\n\n          {/* <script src=\"https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js\" type=\"text/javascript\"></script> */}\n          {/* google font */}\n          {/* <script src='https://bico.media/ad5d292aade21e9aea6074d1a0cdaa8cc44b96feff80afc35aa2bdca5a3fc8c0' type=\"text/javascript\" /> */}\n          {/* misc script */}\n\n\n        </Helmet>\n        <NavBar changeQueryHandler={this.changeQueryHandler} user={this.state.user} loginHandler={this.loginHandler} />\n        <div data-w-id=\"4af52811-6307-f07a-1959-d21bcda05f48\" onClick={() => {\n          setTimeout(() => {\n            document.getElementsByClassName('div-block-17')[0].scrollTop = document.getElementsByClassName('div-block-17')[0].scrollHeight\n\n          }, 20)\n        }} class=\"div-block-18\"><img src=\"https://bico.media/517a09f903abb8f3e723c77ca5053aa16235bbdec8760753a0837c85a4cfe521\" alt=\"\" class=\"image\" /></div>\n        <div data-w-id=\"52640f80-a281-b7ac-c786-0bca7acd6636\" class=\"div-block-4\">\n          <div class=\"div-block-15 smooth-scrolling\" id='content-container'>\n            <div class=\"div-block-5\" style={{ width: '100%' }} >\n              {showUser ? <ProfileStats data={this.state.response[2]} /> : null}\n              <div style={showSortAndFilter ? null : { display: 'none' }}>\n                <SortAndFiler latestQuery={this.state.latestQuery} query={JSON.parse(this.state.latestQuery)} changeSortAndFilter={this.changeQueryHandler} />\n\n              </div>\n              {/* {postFeed&& !loading ? posts : null}\n              {commentFeed && !loading? feedComments : null} */}\n              {showFeed ? <Feed data={feedData} /> : null}\n              {loading ? loadingIndicator : null}\n              {/* <PostComment /> */}\n            </div>\n          </div>\n          {/* post button */}\n          <div class=\"div-block-19\">\n            <div data-w-id=\"4a1870aa-ff99-fbd6-0ef7-9e766b2be4be\" onClick={this.state.user?null:()=>this.loginHandler()} id=\"composeButton\" class=\"div-block-20\">\n              <div class=\"text-block-13\">+</div>\n            </div>\n          </div>\n        </div>\n        <Discussion loginHandler={this.loginHandler} postDiscussionMessage={this.postDiscussionMessage} data={this.state.response[1]} changeQueryHandler={this.changeQueryHandler} user={this.state.user} />\n        <Alert user={this.state.user} replyingTo={this.state.replyingTo} cancelReplyHandler={this.cancelReplyHandler} />}\n\n      </div>\n\n\n    );\n  }\n}\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}