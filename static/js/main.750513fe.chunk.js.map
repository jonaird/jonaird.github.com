{"version":3,"sources":["components/PostComment.js","components/Post.js","components/NavBar.js","components/ProfileStats.js","components/SortAndFilter.js","components/FeedComment.js","components/Discussion.js","components/Alert.js","components/Feed.js","App.js","serviceWorker.js","index.js"],"names":["MoneyButton","require","default","PostComment","props","upvoteClickHandler","user","console","log","slidingViewId","data","_id","upvoteButtonClicked","state","buttonId","window","$","animate","width","opacity","setState","loginHandler","upvoteHandler","document","getElementById","click","alreadyVoted","voteTotal","votes","includes","id","this","toString","length","username","comment","comments","selfPost","userId","push","changeQueryHandler","replyHandler","key","style","class","onClick","type","contentType","sort","timePeriod","date","seconds","Math","floor","Date","interval","timeSince","timestamp","backgroundColor","marginLeft","label","onPayment","to","amount","currency","paddingLeft","React","Component","convertToHex","str","hex","i","charCodeAt","Post","title","description","numberOfComments","postView","post","open","url","outputs","script","transaction","in","e","a","NavBar","MoneyButtonClient","data-w-id","white-space","setTimeout","getElementsByClassName","scrollTop","scrollHeight","src","alt","display","height","cursor","localStorage","clear","location","reload","ProfileStats","amountEarned","numPosts","numComments","numVotes","SortAndFiler","changeQuery","queryChange","by","from","newQuery","query","changeSortAndFilter","inputChangeHandler","search","value","name","data-name","maxlength","placeholder","onChange","FeedComment","rootPost","txid","Discussion","sendMessageHandler","postDiscussionMessage","message","encodeURIComponent","b64","btoa","JSON","stringify","fetch","returnKeyHandler","keyCode","onkeypress","discussionFeed","nextItem","autoComplete","MessageLeft","MessageRight","UsernameLeft","UsernameRight","Action","postTitle","action","postTxid","vote","votedOnTitle","votedOn","Alert","closeAlert","cancelReplyHandler","onPaymentHandler","opreturn","reply","replyingTo","encodeURI","postUI","for","commentUI","Feed","runAnimationScripts","script2","createElement","body","appendChild","App","startNotificationSocket","parse","latestQuery","socket","close","EventSource","onmessage","transactions","tx","out","s2","updatedTransactions","response","slice","s4","h","decodeURIComponent","s3","updateQuery","latestTxid","then","res","json","r","messageData","onScrollEnd","contentContainer","offsetHeight","numContentItems","setScrollEventListener","addEventListener","fetchData","Promise","resolve","result","requestAuthorization","getItem","URLSearchParams","has","client","handleAuthorizationResponse","getIdentity","getUserProfile","ampersandPosition","primaryPaymail","substring","setItem","history","pushState","scriptsLoaded","fontScriptsLoaded","hidden","visibilityChange","app","msHidden","webkitHidden","undefined","documentElement","setAttribute","$script","loading","showUser","postFeed","commentFeed","showSortAndFilter","singlePostView","contentItems","posts","feedData","feedComments","showFeed","loadingIndicator","justifyContent","className","Helmet","charset","content","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.750513fe.chunk.js","sourcesContent":["import React from 'react';\nlet MoneyButton = require('@moneybutton/react-money-button').default\n\n\nfunction timeSince(date) {\n\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\n\n\nexport default class PostComment extends React.Component {\n\n  constructor(props) {\n    super(props);\n    var alreadyVoted = false\n    if(props.user&&props.data.votes.includes(this.props.user.id)){\n      alreadyVoted=true\n    }\n    this.state = {\n      upvoteButtonClicked: false,\n      alreadyVoted: alreadyVoted,\n      voteTotal: props.data.voteTotal\n    }\n  }\n  upvoteClickHandler = () => {\n\n    if(this.props.user){console.log('click')\n    var slidingViewId = '#' + this.props.data._id + 'slidingView';\n    var upvoteButtonClicked = this.state.upvoteButtonClicked;\n    var buttonId = '#' + this.props.data._id + 'button';\n\n    if (upvoteButtonClicked) {\n      window.$(slidingViewId).animate({ width: '0' }, 200, 'linear')\n      window.$(buttonId).animate({ opacity: 0 }, 500, 'linear')\n\n      this.setState({ upvoteButtonClicked: false })\n\n    } else {\n      window.$(slidingViewId).animate({ width: '170' }, 500, 'easeOutExpo')\n      window.$(buttonId).animate({ opacity: 0.15 }, 500, 'linear')\n\n      this.setState({ upvoteButtonClicked: true })\n\n    }}else{\n      this.props.loginHandler();\n    }\n\n\n  }\n  upvoteHandler = () => {\n    document.getElementById(this.props.data._id + 'button').click();\n    this.setState({\n      alreadyVoted: true,\n      voteTotal: this.state.voteTotal += 0.05\n    });\n    \n  }\n\n  render() {\n    var voteTotal = this.state.voteTotal.toString();\n    if (voteTotal[voteTotal.length - 2] == '.') {\n      voteTotal += '0'\n    }\n    var username = this.props.data.username;\n    var comment = this.props.data.comment;\n    // var description = this.props.postData.description;\n    // var numberOfComments = this.props.postData.numberOfComments;\n    let comments = [];\n    var selfPost =this.props.user&&this.props.data.userId === this.props.user.id\n    var buttonId = this.props.data._id + 'button';\n    var slidingViewId = this.props.data._id + 'slidingView';\n    var alreadyVoted = this.state.alreadyVoted;\n    if(this.props.user){\n      alreadyVoted=this.state.alreadyVoted||this.props.data.votes.includes(this.props.user.id)\n    }\n\n\n\n    for (let comment of this.props.data.comments) {\n      comments.push(<PostComment loginHandler={this.props.loginHandler} user={this.props.user} changeQueryHandler={this.props.changeQueryHandler} replyHandler={this.props.replyHandler} data={comment} key={comment._id} />)\n    }\n\n\n    return (\n      <div style={{}}>\n        <div class=\"div-block-40\">\n          <div class=\"content-item\">\n            <div class=\"content-item-top content-item-top-comment\">\n              <div class=\"div-block-8\">\n                <div class=\"text-block-8\">${voteTotal}</div>\n                <div class=\"text-block-9\" onClick={() => this.props.changeQueryHandler({ type: 'userFeed', userId: this.props.data.userId, contentType: 'post', sort: 'new', timePeriod: 'all time' })} >{username}</div>\n                <div class=\"text-block-6\">{timeSince(this.props.data.timestamp * 1000)} ago</div>\n              </div>\n              <div class=\"content-item-content content-item-content-post-view-comment\">\n                <div class=\"content-comment-post-view\">{comment}</div>\n                <div class=\"div-block-10 action-bar-comment\">\n                  <div class=\"div-block-11\">\n                    {selfPost?null:<div class=\"action-bar-button action-bar-button-comment action-bar-button-comment-left\">\n                      <div class=\"post-action\">{alreadyVoted ? \"🗳️✔️\" : \"Upvote\"}</div>\n                    </div>}\n                    <div class={selfPost?\"action-bar-button action-bar-button-comment action-bar-button-comment-left\":\"action-bar-button action-bar-button-comment\"}  onClick={() => this.props.replyHandler(this.props.data)}>\n                      <div class=\"post-action\"  >Reply</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          {selfPost ? null : <div style={{ backgroundColor: 'black', opacity: 0, marginLeft:90 }} onClick={this.state.alreadyVoted ? null : this.upvoteClickHandler} id={buttonId} class=\"div-block-44\"></div>}\n          <div style={{ width: \"0PX\" }} id={slidingViewId} class=\"div-block-41\">\n            <div class=\"div-block-42\">\n              <div class=\"div-block-43\">\n              {this.props.user?<MoneyButton\n                  label='upvote'\n                  onPayment={this.upvoteHandler}\n                  to='112'\n                  amount='0.05'\n                  currency='USD'\n\n                  // outputs={[\n                  //   {\n                  //     amount: 0,\n                  //     currency: 'BSV',\n                  //     type: 'SCRIPT',\n                  //     script: 'OP_RETURN ' + convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('post/vote') + ' ' + convertToHex('vote') + ' ' + convertToHex(this.props.data._id) + ' ' + convertToHex(this.props.user.id)\n\n                  //   }, {\n                  //     to: this.props.data.transaction.in[0].e.a,\n                  //     amount: \"0.05\",\n                  //     currency: 'USD',\n\n\n                  //   }\n\n                  // ]}\n\n\n                />:null}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style={{ paddingLeft: 40 }}>\n          {comments}\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport PostComment from './PostComment';\nlet MoneyButton = require('@moneybutton/react-money-button').default\n\n//import $ from 'jquery';\nfunction convertToHex(str) {\n  var hex = '';\n  for (var i = 0; i < str.length; i++) {\n      hex += '' + str.charCodeAt(i).toString(16);\n  }\n  return hex;\n}\n\nfunction timeSince(date) {\n\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\nexport default class Post extends React.Component {\n\n  constructor(props) {\n    super(props);\n    var alreadyVoted = false\n    if(props.user&&props.data.votes.includes(props.user.id)){\n      alreadyVoted=true\n    }\n    this.state = {\n      upvoteButtonClicked: false,\n      alreadyVoted,\n      voteTotal: props.data.voteTotal\n    }\n  }\n\n  upvoteClickHandler = () => {\n\n    if(this.props.user){var slidingViewId = '#' + this.props.data._id + 'slidingView';\n    var upvoteButtonClicked = this.state.upvoteButtonClicked;\n    var buttonId = '#' + this.props.data._id + 'button';\n\n    if (upvoteButtonClicked) {\n      window.$(slidingViewId).animate({ width: '0' }, 200, 'linear')\n      window.$(buttonId).animate({ opacity: 0 }, 500, 'linear')\n\n      this.setState({ upvoteButtonClicked: false })\n\n    } else {\n      window.$(slidingViewId).animate({ width: '170' }, 500, 'easeOutExpo')\n      window.$(buttonId).animate({ opacity: 0.15 }, 500, 'linear')\n\n      this.setState({ upvoteButtonClicked: true })\n\n    }} else{\n      this.props.loginHandler()\n    }\n    \n\n  }\n\n  upvoteHandler = () => {\n    document.getElementById(this.props.data._id + 'button').click();\n    this.setState({\n      alreadyVoted: true,\n      voteTotal: this.state.voteTotal += 0.05\n    });\n    \n  }\n\n  componentDidMount() {\n    var buttonId = '#' + this.props.data._id + 'button';\n    var slidingViewId = '#' + this.props.data._id + 'slidingView';\n\n    var buttonClicked = this.state.upvoteButtonClicked\n\n    //   window.$(buttonId).click(function(){\n    //     if(buttonClicked){\n\n    //     } else{\n    //       window.$(slidingViewId).animate({width:'170'},500, 'easeOutExpo')\n    //     }\n    //   })\n\n  }\n\n  render() {\n\n    var voteTotal = this.state.voteTotal.toString();\n    if (voteTotal[voteTotal.length - 2] == '.') {\n      voteTotal += '0'\n    }\n    var username = this.props.data.username;\n    var title = this.props.data.title;\n    var description = this.props.data.description;\n    var numberOfComments = this.props.data.numberOfComments;\n    var buttonId = this.props.data._id + 'button';\n    var slidingViewId = this.props.data._id + 'slidingView';\n    var postView = this.props.postView;\n    var comments = [];\n    \n    var alreadyVoted = this.state.alreadyVoted;\n    if(this.props.user){\n      alreadyVoted=this.state.alreadyVoted||this.props.data.votes.includes(this.props.user.id)\n    }\n    var selfPost =this.props.user&&this.props.data.userId === this.props.user.id\n\n\n    \n\n\n    var numberOfComments = null;\n    if (!postView) {\n      numberOfComments = (<div class=\"action-bar-button action-bar-button-right\" onClick={() => this.props.changeQueryHandler({ type: 'post', post: this.props.data._id })} >\n        <div class=\"post-action\">{this.props.data.numberOfComments + ' comments'}</div>\n      </div>)\n    }\n    if (postView) {\n      for (let comment of this.props.data.comments) {\n        comments.push(<PostComment loginHandler={this.props.loginHandler} user={this.props.user} changeQueryHandler={this.props.changeQueryHandler} replyHandler={this.props.replyHandler} data={comment} />)\n      }\n\n\n    }\n\n    return (\n      \n      <div>\n        <div class=\"div-block-40\">\n          <div class=\"content-item\"  >\n            <div class=\"content-item-top\">\n              <div class=\"div-block-8\">\n                <div class=\"text-block-8\">{'$' + voteTotal}</div>\n                <div class=\"text-block-9\" onClick={() => this.props.changeQueryHandler({ type: 'userFeed', userId: this.props.data.userId, contentType: 'post', sort: 'new', timePeriod: 'all time' })} >{username}</div>\n                <div class=\"text-block-6\">{timeSince(this.props.data.timestamp * 1000) + ' ago'}</div>\n              </div>\n              <div class=\"content-item-content\">\n                <div><strong class=\"post-title\" onClick={() => window.open(this.props.data.url, '_blank')} >{title}</strong></div>\n                <div class=\"post-description\">{description}</div>\n              </div>\n            </div>\n            <div class=\"div-block-10\">\n              <div class=\"div-block-11\">\n                {selfPost ? null : <div class=\"action-bar-button\">\n                  <div class=\"post-action\">{alreadyVoted ? \"🗳️✔️\" : \"Upvote\"}</div>\n                </div>}\n                <div class=\"action-bar-button\" onClick={() => this.props.replyHandler(this.props.data)} >\n                  <div class=\"post-action\">Reply</div>\n                </div>\n                {numberOfComments}\n              </div>\n            </div>\n          </div>\n          {selfPost ? null : <div style={{ backgroundColor: 'black', opacity: 0 }} onClick={alreadyVoted ? null : this.upvoteClickHandler} id={buttonId} class=\"div-block-44\"></div>}\n          <div style={{ width: \"0PX\" }} id={slidingViewId} class=\"div-block-41\">\n            <div class=\"div-block-42\">\n              <div class=\"div-block-43\">\n                {this.props.user&&!selfPost&&!alreadyVoted?<MoneyButton\n                  label='upvote'\n                  onPayment={this.upvoteHandler}\n                  \n\n                  outputs={[\n                    {\n                      amount: 0,\n                      currency: 'BSV',\n                      type: 'SCRIPT',\n                      script: 'OP_RETURN ' + convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('post/vote') + ' ' + convertToHex('vote') + ' ' + convertToHex(this.props.data._id) + ' ' + convertToHex(this.props.user.id)\n\n                    }, {\n                      to: this.props.data.transaction.in[0].e.a,\n                      amount: \"0.05\",\n                      currency: 'USD',\n\n\n                    }\n\n                  ]}\n\n\n                />:null}\n                <div id=\"my-money-button\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style={{ paddingLeft: 40 }}>\n          {comments}\n        </div>\n\n      </div>\n    );\n  }\n}","import React from 'react'\nconst { MoneyButtonClient } = require('@moneybutton/api-client');\n\n\nconst NavBar = (props) => {\n\n\n    return (\n        <div class=\"bsvnews-bar nav-bar\">\n            <div class=\"bar-left\">\n                <div class=\"bar-item bar-item-left\" onClick={()=>props.changeQueryHandler({type:'feed',contentType:'post',sort:'top',timePeriod:'week'})} >\n                    <div class=\"text-block\">BSV NEWS</div>\n                </div>\n            </div>\n            <div class=\"bar-right\">\n                <div data-w-id=\"bfd75da2-a558-1d42-930b-2d1c229e9153\" class=\"bar-item bar-item-right bar-item-vertical\">\n                    <div class=\"div-block-2\">\n                        <div class=\"text-block-3\"> Reward Pool:<br /></div>\n                    </div>\n                    <div class=\"text-block-4\">$25</div>\n                </div>\n                <div data-w-id=\"a208a93f-16ae-9a9a-5d0b-dc012b7a4a6d\" class=\"bar-item bar-item-right boost-button\">\n                    <div class=\"cta-button\">\n                        <div white-space=\"nowrap\" class=\"text-block-5\">Boost</div>\n                    </div>\n                </div>\n                <div data-w-id=\"a1a6d7e7-53fb-49c3-4671-745f2b7ac08b\" onClick={()=>{\n                    setTimeout(()=>{\n                        document.getElementsByClassName('div-block-17')[0].scrollTop=document.getElementsByClassName('div-block-17')[0].scrollHeight\n\n                    },20)\n                }} class=\"bar-item bar-item-right chat-button bar-item-chat-button\"><img src=\"https://bico.media/517a09f903abb8f3e723c77ca5053aa16235bbdec8760753a0837c85a4cfe521\" alt=\"\" /></div>\n                <div data-w-id=\"b210fbe5-474f-7680-84c9-3c03a7f46447\" class=\"bar-item bar-item-right menu-button\">\n                    <div class=\"div-block-21\"><img src=\"https://bico.media/28de6e88249bd34f7ddd9df986c5a330a1804bd3b1fad5059544c7990f809830\" alt=\"\" /></div>\n                    <div class=\"div-block-22\"></div>\n                    <div data-w-id=\"e7b8d81a-166b-7bb5-40c3-0b8d93e8a08c\"\n                        style={{\n                            display: 'none',\n                            height: \"0PX\"\n                        }}\n                        class=\"div-block-22\">\n                        {props.user ? (<div style={{cursor:'pointer'}} onClick={()=>props.changeQueryHandler({type:'userFeed',userId:props.user.id,contentType:'post',timePeriod:'all time'})} data-w-id=\"e7b8d81a-166b-7bb5-40c3-0b8d93e8a08d\" class=\"div-block-23\" >\n                            <div class=\"text-block-14\">Profile</div>\n                        </div>) : null}\n                        <div data-w-id=\"b0f6535a-fe81-b57b-bf2e-c1e186875e2a\" style={{cursor:'pointer'}} class=\"div-block-23\" onClick={() => {\n                            if(props.user){\n                                localStorage.clear();\n                                window.location.reload();\n                            } else {\n                                props.loginHandler();\n                            }\n                        }} >\n                            <div class=\"text-block-14\">{props.user ? 'Logout' : 'Login'} </div>\n                        </div>\n\n                    </div>\n                </div>\n                <div data-w-id=\"73708752-5d81-4803-bd56-9bf062f332a6\"\n                    style={{ display: \"none\" }}\n                    class=\"bar-item bar-item-right bar-item-right-discussion-close\">\n                    <div class=\"username\">X</div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default NavBar;","import React from 'react';\n\nconst ProfileStats = (props)=>{\n  var amountEarned = props.data.amountEarned.toString();\n         if(amountEarned[amountEarned.length-2]=='.'){\n           amountEarned+='0'\n         }\n  return(\n    <div class=\"content-item content-item-profile\">\n                <div class=\"div-block-31\">\n                  <div class=\"text-block-17\">{props.data.username}</div>\n                  <div class=\"div-block-32\">\n                    <div class=\"profile-stat\">\n                      <div class=\"text-block-19\">Posts</div>\n                      <div class=\"text-block-18\">{props.data.numPosts}</div>\n                    </div>\n                    <div class=\"profile-stat\">\n                      <div class=\"text-block-19\">Comments</div>\n                      <div class=\"text-block-18\">{props.data.numComments}</div>\n                    </div>\n                    <div class=\"profile-stat profile-stat-right\">\n                      <div class=\"text-block-19\">Votes</div>\n                      <div class=\"text-block-18\">{props.data.numVotes}</div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"div-block-33\">\n                  <div class=\"text-block-20\">Earned</div>\n                  <div class=\"text-block-21\">{'$'+amountEarned}</div>\n                </div>\n              </div>\n);}\n\nexport default ProfileStats;","import React from 'react'\nimport $script from 'scriptjs';\n\nexport default class SortAndFiler extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: this.props.query\n    }\n\n\n  }\n\n  changeQuery = (queryChange) => {\n    var sort = queryChange.contentType;\n    var by  = queryChange.sort;\n    var from = queryChange.timePeriod;\n\n    if(sort){\n      document.getElementById(\"sort\").click();\n    } else if (by){\n      document.getElementById(\"by\").click();\n\n    } else if (from){\n      document.getElementById(\"from\").click();\n\n    }\n\n\n    var newQuery = {\n      ...this.props.query,\n      ...queryChange\n    }\n\n    this.setState({\n      query: newQuery\n    })\n\n    this.props.changeSortAndFilter(newQuery);\n  }\n\n  inputChangeHandler=()=>{\n    this.changeQuery({\n      search:document.getElementById('name-3').value\n    })\n  }\n\n \n\n\n  render() {\n    var sort;\n    var by;\n    var from;\n\n    \n\n    this.props.query.contentType == 'comment' ? sort = 'Comments' : sort = 'Posts';\n    this.props.query.sort == 'top' ? by = 'Top' : this.props.query.sort == 'new' ? by = 'New' : by = 'Hot';\n    switch(this.props.query.timePeriod){\n      case 'day':\n        from = 'Day';\n        break;\n      case 'week':\n        from = 'Week';\n        break;\n      case 'month':\n        from = 'Month';\n        break;\n      case 'all time':\n        from='All Time';\n        break;\n    }\n\n\n    return (\n      <div style={{ width: '100%' }} >\n        <div class=\"w-form\">\n          <form id=\"email-form-3\" name=\"email-form-3\" data-name=\"Email Form 3\" >\n            <input type=\"text\" class=\"text-field-5 w-input\" maxlength=\"256\" name=\"name-3\" data-name=\"Name 3\" placeholder=\"Search\" id=\"name-3\" onChange={this.inputChangeHandler} />\n          </form>\n          <div class=\"w-form-done\">\n            <div>Thank you! Your submission has been received!</div>\n          </div>\n          <div class=\"w-form-fail\">\n            <div>Oops! Something went wrong while submitting the form.</div>\n          </div>\n        </div>\n        <div class=\"content-item parameters\" style={{ width: '100%' }} >\n          <div class=\"parameters-container\">\n            <div class=\"parameters-item\">\n              <div class=\"parameter-text parameter-item\">Sort:</div>\n            </div>\n            <div class=\"dropdown-container\">\n              <div data-w-id=\"83c3eaae-bf1d-1928-0b11-31907b7cf3d6\" id='sort' class=\"dropdown-trigger\">\n                <div class=\"parameter-text\">{sort}</div>\n              </div>\n              <div style={{ height: '0PX', display: \"none\" }} class=\"dropdown-content\">\n                <div data-w-id=\"3a2f1878-9d77-fb16-e68d-1dfe48353203\" class=\"dropdown-item\" onClick={() => this.changeQuery({ contentType: 'post' })}>\n                  <div class=\"parameter-text\">Posts</div>\n                </div>\n                <div data-w-id=\"2d9b06ef-22af-1a47-a5b5-2fc05b211be4\" class=\"dropdown-item\" onClick={() => this.changeQuery({ contentType: 'comment' })} >\n                  <div class=\"parameter-text\">Comments</div>\n                </div>\n              </div>\n            </div>\n            <div class=\"parameters-item\">\n              <div class=\"parameter-text parameter-item\">by:</div>\n            </div>\n            <div class=\"parameters-item parameters-item-dropdown\">\n              <div class=\"dropdown-container\">\n                <div data-w-id=\"4534be0a-5b81-6bc3-37f7-50b03c2e0e9b\" id='by' class=\"dropdown-trigger\">\n                  <div class=\"parameter-text\">{by}</div>\n                </div>\n                <div style={{ height: '0PX', display: \"none\" }} class=\"dropdown-content\">\n                  <div data-w-id=\"4534be0a-5b81-6bc3-37f7-50b03c2e0e9f\" class=\"dropdown-item\" onClick={() => this.changeQuery({ sort: 'hot' })}>\n                    <div class=\"parameter-text\">Hot</div>\n                  </div>\n                  <div data-w-id=\"eab1e4cf-2441-cd8d-fbb9-a8635a7bc9d3\" class=\"dropdown-item\" onClick={() => this.changeQuery({ sort: 'top' })}>\n                    <div class=\"parameter-text\">Top</div>\n                  </div>\n                  <div data-w-id=\"4534be0a-5b81-6bc3-37f7-50b03c2e0ea2\" class=\"dropdown-item\" onClick={() => this.changeQuery({ sort: 'new' })}>\n                    <div class=\"parameter-text\">New</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"parameters-container parameters-container-right\">\n            <div class=\"parameters-item\">\n              <div class=\"parameter-text parameter-item\">From:</div>\n            </div>\n            <div class=\"parameters-item parameters-item-dropdown\">\n              <div class=\"dropdown-container dropdown-container-right\">\n                <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b1d\" id='from' class=\"dropdown-trigger\">\n                  <div class=\"parameter-text\">{from}</div>\n                </div>\n                <div class=\"dropdown-content dropdown-content-right\" style={{ height: '0PX', display: \"none\" }} >\n                  <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b21\" class=\"dropdown-item\" onClick={() => this.changeQuery({ timePeriod: 'day' })}>\n                    <div class=\"parameter-text\">Day</div>\n                  </div>\n                  <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b24\" class=\"dropdown-item\" onClick={() => this.changeQuery({ timePeriod: 'week' })}>\n                    <div class=\"parameter-text\">Week</div>\n                  </div>\n                  <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b24\" class=\"dropdown-item\" onClick={() => this.changeQuery({ timePeriod: 'month' })}>\n                    <div class=\"parameter-text\">Month</div>\n                  </div>\n                  <div data-w-id=\"4f7095d4-3b82-1424-67bc-d51c84655b27\" class=\"dropdown-item\" onClick={() => this.changeQuery({ timePeriod: 'all time' })}>\n                    <div class=\"parameter-text\">All Time</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\n","import React from 'react';\nlet MoneyButton = require('@moneybutton/react-money-button').default\n\nfunction timeSince(date) {\n\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\nexport default class FeedComment extends React.Component {\n\n  constructor(props) {\n    super(props);\n    var alreadyVoted = false\n    if (props.user && props.data.votes.includes(this.props.user.id)) {\n      alreadyVoted = true\n    }\n    this.state = {\n      upvoteButtonClicked: false,\n      alreadyVoted: alreadyVoted,\n      voteTotal: props.data.voteTotal,\n\n    }\n  }\n  upvoteClickHandler = () => {\n\n    if (this.props.user) {\n      var slidingViewId = '#' + this.props.data._id + 'slidingView';\n      var upvoteButtonClicked = this.state.upvoteButtonClicked;\n      var buttonId = '#' + this.props.data._id + 'button';\n\n      if (upvoteButtonClicked) {\n        window.$(slidingViewId).animate({ width: '0' }, 200, 'linear')\n        window.$(buttonId).animate({ opacity: 0 }, 500, 'linear')\n\n        this.setState({ upvoteButtonClicked: false })\n\n      } else {\n        window.$(slidingViewId).animate({ width: '170' }, 500, 'easeOutExpo')\n        window.$(buttonId).animate({ opacity: 0.15 }, 500, 'linear')\n\n        this.setState({ upvoteButtonClicked: true })\n\n      }\n    } else {\n      this.props.loginHandler();\n    }\n\n\n  }\n  upvoteHandler = () => {\n\n    document.getElementById(this.props.data._id + 'button').click();\n    this.setState({\n      alreadyVoted: true,\n      voteTotal: this.state.voteTotal += 0.05\n    });\n\n  }\n\n  render() {\n\n    var voteTotal = this.state.voteTotal.toString();\n    if (voteTotal[voteTotal.length - 2] == '.') {\n      voteTotal += '0'\n    }\n    var username = this.props.data.username;\n    var selfPost = this.props.user && this.props.data.userId === this.props.user.id\n    var buttonId = this.props.data._id + 'button';\n    var slidingViewId = this.props.data._id + 'slidingView';\n    var alreadyVoted = this.state.alreadyVoted;\n    if (this.props.user) {\n      alreadyVoted = this.state.alreadyVoted || this.props.data.votes.includes(this.props.user.id)\n    }\n\n\n\n    console.log(this.props.data)\n    return (\n      <div class=\"div-block-40\">\n        <div class=\"content-item\">\n          <div class=\"content-item-top\">\n            <div class=\"div-block-8\">\n              <div class=\"text-block-8\">{'$' + voteTotal}</div>\n              <div class=\"text-block-9\" onClick={() => this.props.changeQueryHandler({ type: 'userFeed', userId: this.props.data.userId, contentType: 'post', sort: 'new', timePeriod: 'all time' })}>{username}</div>\n              <div class=\"text-block-6\">{timeSince(this.props.data.timestamp * 1000) + ' ago'}</div>\n            </div>\n            <div class=\"content-item-content content-item-content-comment\">\n              <div class=\"text-block-24\">in reply to <strong class=\"bold-text-5\" onClick={() => this.props.changeQueryHandler({ type: 'post', post: this.props.data.rootPost.txid })} >{this.props.data.rootPost.title}</strong></div>\n              <div class=\"comment-content\">{this.props.data.comment}</div>\n            </div>\n          </div>\n          <div class=\"div-block-10\">\n            <div class=\"div-block-11\">\n              {selfPost ? null : <div class=\"action-bar-button\">\n                <div class=\"post-action\">{alreadyVoted ? \"🗳️✔️\" : \"Upvote\"}</div>\n              </div>}\n              <div class=\"action-bar-button\" onClick={() => this.props.replyHandler(this.props.data)} >\n                <div class=\"post-action\">Reply</div>\n              </div>\n              <div class=\"action-bar-button\" onClick={() => this.props.changeQueryHandler({ type: 'post', post: this.props.data.rootPost.txid })}>\n                <div class=\"post-action\">Show Thread</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {selfPost ? null : <div style={{ backgroundColor: 'black', opacity: 0 }} onClick={this.state.alreadyVoted ? null : this.upvoteClickHandler} id={buttonId} class=\"div-block-44\"></div>}\n        <div style={{ width: \"0PX\" }} id={slidingViewId} class=\"div-block-41\">\n          <div class=\"div-block-42\">\n            <div class=\"div-block-43\">\n              {this.props.user ? <MoneyButton\n                label='upvote'\n                onPayment={this.upvoteHandler}\n                to='112'\n                amount='0.05'\n                currency='USD'\n\n              // outputs={[\n              //   {\n              //     amount: 0,\n              //     currency: 'BSV',\n              //     type: 'SCRIPT',\n              //     script: 'OP_RETURN ' + convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('post/vote') + ' ' + convertToHex('vote') + ' ' + convertToHex(this.props.data._id) + ' ' + convertToHex(this.props.user.id)\n\n              //   }, {\n              //     to: this.props.data.transaction.in[0].e.a,\n              //     amount: \"0.05\",\n              //     currency: 'USD',\n\n\n              //   }\n\n              // ]}\n\n\n              /> : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { jsonSerializers } from '@moneybutton/json-api';\n\nexport default class Discussion extends React.Component {\n\n\n\n  sendMessageHandler = () => {\n    if (this.props.user) {\n      this.props.postDiscussionMessage(document.getElementById('name').value);\n      var message = encodeURIComponent(document.getElementById('name').value);\n\n      // var urlParams = new URLSearchParams();\n      // urlParams.append('data',['allaboardtest',message,this.props.user.username])\n      var b64 = btoa(JSON.stringify({ type: 'postDiscussion', message, username: this.props.user.username }));\n      var url = 'http://127.0.0.1:2000/q/' + b64;\n      fetch(url)\n\n\n      // var http = new XMLHttpRequest;\n      // var url ='https://api.allaboard.cash/faucet/push';\n      // var params = 'data='+JSON.stringify(['allaboardtest',\"discussion\",message,this.props.user.username]);\n      // http.open('POST',url,true);\n      // http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n      // http.setRequestHeader('key', 'ZRfiqW9rdgDePXXeiT0mDEfYJgy8pwECnA');\n      // http.send(params);\n      document.getElementById('name').value = '';\n    } else {\n      this.props.loginHandler()\n    }\n\n\n  }\n\n  returnKeyHandler = (e) => {\n    if (e.keyCode == 13) {\n      this.sendMessageHandler();\n    }\n  }\n\n  componentDidMount() {\n    document.getElementById('name').onkeypress = (e) => this.returnKeyHandler(e)\n  }\n\n  render() {\n    var data = this.props.data;\n    var discussionFeed = [];\n    if (data) {\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].type != 'discussion') {\n          discussionFeed.push(<Action data={data[i]} changeQueryHandler={this.props.changeQueryHandler} />)\n        } else {\n\n          var message = data[i];\n          if (this.props.user && message.username == this.props.user.username) {\n            discussionFeed.push(<MessageRight data={message.message} />)\n\n            var nextItem = data[i + 1];\n\n            if (nextItem) {\n              if (nextItem.type == 'discussion') {\n                if (this.props.user && nextItem.username != this.props.user.username) {\n                  discussionFeed.push(<UsernameRight data={this.props.user.username} />)\n                }\n              } else {\n                discussionFeed.push(<UsernameRight data={this.props.user.username} />)\n              }\n            } else {\n              discussionFeed.push(<UsernameRight data={this.props.user.username} />)\n            }\n\n          } else {\n            discussionFeed.push(<MessageLeft data={message.message} />)\n\n            var nextItem = data[i + 1];\n\n            if (nextItem) {\n              if (nextItem.type == 'discussion') {\n                if (nextItem.username != message.username) {\n                  discussionFeed.push(<UsernameLeft data={message.username} />)\n                }\n              } else {\n                discussionFeed.push(<UsernameLeft data={message.username} />)\n              }\n            } else {\n              discussionFeed.push(<UsernameLeft data={message.username} />)\n            }\n\n\n          }\n        }\n      }\n    }\n\n\n    return (\n      <div data-w-id=\"a59d307d-9930-6dfd-5525-555df24d9f6e\" style={{ display: \"none\" }} class=\"div-block-13\">\n        <div class=\"div-block-17\">\n          <div class=\"div-block-16\">\n            {discussionFeed}\n\n\n\n\n\n\n          </div>\n        </div>\n        <div class=\"div-block-14\">\n          <div class=\"form-block-2 w-form\">\n            <form id=\"email-form\" name=\"email-form\" data-name=\"Email Form\">\n              <input autoComplete=\"off\" type=\"text\" class=\"text-field-2 w-input\" maxlength=\"256\" name=\"name\" data-name=\"Name\" id=\"name\" />\n            </form>\n\n          </div>\n          <div class=\"div-block-35\" onClick={this.sendMessageHandler} >\n            <div class=\"text-block-22\">↑</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst MessageLeft = props => {\n  return (\n    <div class=\"discussion-post\">\n      <div class=\"text-block-12\">{props.data}</div>\n    </div>\n  )\n}\nconst MessageRight = props => {\n  return (\n    <div class=\"discussion-post discussion-post-right\">\n      <div class=\"text-block-12\">{props.data}</div>\n    </div>\n  )\n}\n\nconst UsernameLeft = props => (<div>\n  <div class=\"discussion-user\">{props.data}</div>\n</div>)\n\nconst UsernameRight = props => (<div class=\"discussion-user discussion-user-right\">{props.data}</div>)\n\nconst Action = props => {\n  var vote = props.data.type == 'vote';\n  var comment = props.data.type == 'comment';\n  var post = !vote && !comment;\n  var postTitle;\n  var username;\n  var action;\n  var postTxid;\n\n  if (vote) {\n    username = \"Someone\";\n    postTitle = props.data.votedOnTitle;\n    action = 'voted on'\n    postTxid = props.data.votedOn\n  } else if (comment) {\n    username = props.data.username;\n    postTitle = props.data.rootPost.title;\n    action = 'commented on'\n    postTxid = props.data.rootPost.txid\n  } else if (post) {\n    username = props.data.username;\n    postTitle = props.data.title;\n    action = 'posted';\n    postTxid = props.data._id\n  }\n\n  return (\n    <div class=\"discussion-notification\">\n      <strong class=\"bold-text-4\" onClick={() => props.changeQueryHandler({ type: 'userFeed', userId: props.data.userId, contentType: 'post', sort: 'new', timePeriod: 'all time' })} >{username}</strong> {action} <strong class=\"bold-text-3\" onClick={() => props.changeQueryHandler({ type: 'post', post: postTxid })}>{postTitle}</strong></div>)\n\n}","import React from 'react';\nlet MoneyButton = require('@moneybutton/react-money-button').default\n\nfunction convertToHex(str) {\n    var hex = '';\n    for (var i = 0; i < str.length; i++) {\n        hex += '' + str.charCodeAt(i).toString(16);\n    }\n    return hex;\n}\n\nexport default class Alert extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            url: '',\n            comment: ''\n\n        }\n    }\n\n    closeAlert = () => {\n        this.props.cancelReplyHandler();\n        this.setState({ title: '', url: '', comment: '' })\n    }\n\n    onPaymentHandler = () => {\n        document.getElementsByClassName('div-block-34')[0].click();\n        this.closeAlert();\n    }\n\n\n\n    render() {\n        var opreturn = ' '\n        var reply = this.props.replyingTo;\n        if (this.props.user && !reply) {\n            opreturn = convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('post/vote') + ' ' + convertToHex('post') + ' ' + convertToHex(encodeURIComponent(this.state.title)) + ' ' + convertToHex(encodeURI(this.state.url)) + ' ' + convertToHex(this.props.user.username) + ' ' + convertToHex(this.props.user.id)\n        } else if (this.props.user && reply) {\n            opreturn = convertToHex('13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf') + ' ' + convertToHex('comment') + ' ' + convertToHex(this.props.replyingTo._id) + ' ' + convertToHex(encodeURIComponent(this.state.comment)) + ' ' + convertToHex(this.props.user.username) + ' ' + convertToHex(this.props.user.id)\n        }\n\n\n        var username;\n\n        if (reply) {\n            username = reply.username\n        }\n\n        var postUI = (<div data-w-id=\"20261b05-15ea-fd10-4303-6a6538f195e4\"\n            //style=\"-webkit-transform:translate3d(0, 100VH, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 100VH, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 100VH, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 100VH, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)\" \n            class=\"alert\">\n            <div class=\"alert-title\">\n                <div class=\"text-block-15\">Submit a Link</div>\n                <div data-w-id=\"c6b664e1-a7b1-959c-8ad1-97eaa9a9d996\" onClick={this.closeAlert} class=\"div-block-29\">\n                    <div class=\"text-block-16\">X</div>\n                </div>\n            </div>\n            <div class=\"form-block-3 w-form\">\n                <form id=\"email-form-2\" name=\"email-form-2\" data-name=\"Email Form 2\" class=\"form-2\"><label for=\"node\" class=\"field-label\">Write a title</label>\n                    <input onChange={() => this.setState({ title: document.getElementById('node').value })} value={this.state.title} type=\"text\" maxlength=\"256\" id=\"node\" class=\"text-field-3 w-input\" />\n                    <label for=\"node-2\" class=\"field-label-2\">URL</label>\n                    <input type=\"email\" maxlength=\"256\" id=\"node-2\" class=\"text-field-3 w-input\" value={this.state.url} onChange={() => this.setState({ url: document.getElementById('node-2').value })} /></form>\n\n            </div>\n            <div class=\"div-block-30\">\n                <div class='div-block-34' data-w-id=\"f78f9773-81a0-c31c-0a36-98ed96251b27\" style={{ width: 0, height: 0 }}></div>\n                <div class=\"submit-mb-container\">\n                    <MoneyButton\n                        onPayment={this.onPaymentHandler}\n                        outputs={[\n                            {\n                                amount: 0,\n                                currency: 'BSV',\n                                type: 'SCRIPT',\n                                script: 'OP_RETURN ' + opreturn\n                            }\n                        ]}\n                        label=\"Post\"\n\n                    />\n                </div>\n            </div>\n\n        </div>)\n\n        var commentUI = (<div data-w-id=\"20261b05-15ea-fd10-4303-6a6538f195e4\" class=\"alert\">\n            <div class=\"alert-title\">\n                <div class=\"text-block-15\">Comment</div>\n                <div data-w-id=\"85e8fe7e-fd06-e878-870a-8f8994664ecb\" onClick={this.closeAlert} class=\"div-block-29\">\n                    <div class=\"text-block-16\">X</div>\n                </div>\n            </div>\n            <div class=\"form-block-3 w-form\">\n                <form id=\"email-form-2\" name=\"email-form-2\" data-name=\"Email Form 2\" class=\"form-2\">\n                    <label for=\"node-3\" class=\"field-label-3\">Responding to <strong>{username}</strong></label>\n                    <textarea value={this.state.comment} onChange={() => this.setState({ comment: document.getElementById('field').value })} name=\"field\" maxlength=\"5000\" id=\"field\" class=\"text-field-3 comment-field w-input\"></textarea>\n                </form>\n\n            </div>\n            <div class=\"div-block-30\" >\n                <div  data-w-id=\"f78f9773-81a0-c31c-0a36-98ed96251b27\"  class='div-block-34' style={{ width: 0, height: 0}}></div>\n                <div class=\"submit-mb-container\" style={{ width: 140 }} >\n                    <MoneyButton\n                        onPayment={this.onPaymentHandler}\n                        outputs={[\n                            {\n                                amount: 0,\n                                currency: 'BSV',\n                                type: 'SCRIPT',\n                                script: 'OP_RETURN ' + opreturn\n                            }\n                        ]}\n                        label=\"Reply\"\n\n                    />\n\n                </div>\n            </div>\n            \n        </div>)\n\n\n        return (\n            <div>\n                <div data-w-id=\"45990265-012f-9c0a-8be9-a3e6027aab5b\" style={{ display: 'none', opacity: \"0\" }} class=\"div-block-24\"></div>\n                <div data-w-id=\"b374f5a9-da8a-caa3-6b31-5447c2256b80\" style={{ display: \"none\" }} class=\"div-block-25\">\n                    {reply ? commentUI : postUI}\n                </div>\n            </div>\n        );\n    }\n}","import React from 'react';\n\nexport default class Feed extends React.Component {\n    runAnimationScripts =()=>{\n        // var script1 = document.createElement('script');\n        // script1.src = 'https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js'\n        // //script1.async=true\n        // document.body.appendChild(script1);\n    \n        //webflow js\n        var script2 = document.createElement('script');\n        script2.src = 'https://bico.media/f214f48a0f5010efe27e0e4cbc1840af2bc94aae3c695847f8b64c6afa3b5686.js'\n        //script2.async=true\n        document.body.appendChild(script2);\n    \n      }\n\n    componentDidUpdate(){\n       // this.runAnimationScripts();\n    }\n\n    componentDidMount(){\n       // this.runAnimationScripts();\n    }\n\n    render(){\n        return this.props.data\n    }\n\n}","import React from 'react';\n\nimport './App.css';\nimport Post from './components/Post.js'\nimport NavBar from './components/NavBar.js'\nimport ProfileStats from './components/ProfileStats.js';\nimport SortAndFiler from './components/SortAndFilter.js';\nimport FeedComment from './components/FeedComment.js';\n\nimport Discussion from './components/Discussion.js';\nimport Alert from './components/Alert.js';\nimport Feed from './components/Feed.js';\nimport $script from 'scriptjs';\n\nimport { Helmet } from 'react-helmet'\nconst { MoneyButtonClient } = require('@moneybutton/api-client');\n\n\n{/* <script src=\"https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js\" type=\"text/javascript\" integrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\" crossorigin=\"anonymous\"></script>\n  <script src=\"js/webflow.js\" type=\"text/javascript\"></script> */}\n\n///\"5b0188d2e84b38407c6dcac7abe974cf9b14e28cff79353b7e376045d9a7c353\"\nvar socket = null\n\nexport default class App extends React.Component {\n\n\n\n  constructor(props) {\n    super(props);\n    var query = {\n      type: 'feed',\n      // post:\"5b0188d2e84b38407c6dcac7abe974cf9b14e28cff79353b7e376045d9a7c353\"\n      contentType: 'post',\n      sort: 'top',\n      timePeriod: 'week'\n\n    }\n    var user = JSON.parse(localStorage.getItem('user'));\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.has('code')) {\n      const client = new MoneyButtonClient('c718a0b5fd8f38f4610ae5e1bf277d97');\n      client.handleAuthorizationResponse().then(() => {\n        client.getIdentity().then(res => {\n          client.getUserProfile(res.id).then(res => {\n\n            user = res\n\n            var ampersandPosition = user.primaryPaymail.search('@');\n\n            user.username = user.primaryPaymail.substring(0, ampersandPosition);\n            this.setState({\n              user\n            })\n            localStorage.setItem('user', JSON.stringify(res))\n\n            window.history.pushState({ id: 'homepage' }, 'BSV NEWS', 'https://www.bsvnews.today');\n          })\n\n        })\n      })\n    }\n\n    this.state = {\n      query,\n      latestQuery: JSON.stringify(query),\n      response: [],\n      scriptsLoaded: false,\n      fontScriptsLoaded: false,\n      user,\n\n      replyingTo: null,\n      numContentItems: 10\n    }\n\n\n\n    var b64 = btoa(JSON.stringify(this.state.query));\n    var url = 'https://www.bsvnews.today/q/' + b64;\n    fetch(url).then(res => {\n\n      return res.json();\n    }).then(r => {\n      var result = JSON.stringify(r, null, 2);\n      result = JSON.parse(result);\n      this.setState({\n        response: result,\n\n      }, () => {\n        this.setScrollEventListener();\n        this.startNotificationSocket();\n      })\n\n    })\n\n    window.app = this;\n\n    var hidden, visibilityChange;\n    if (typeof document.hidden !== \"undefined\") { // Opera 12.10 and Firefox 18 and later support \n      hidden = \"hidden\";\n      visibilityChange = \"visibilitychange\";\n    } else if (typeof document.msHidden !== \"undefined\") {\n      hidden = \"msHidden\";\n      visibilityChange = \"msvisibilitychange\";\n    } else if (typeof document.webkitHidden !== \"undefined\") {\n      hidden = \"webkitHidden\";\n      visibilityChange = \"webkitvisibilitychange\";\n    }\n\n\n    function handleVisibilityChange() {\n      if (!document[hidden]) {\n        window.app.reload();\n      }\n    }\n\n    // Warn if the browser doesn't support addEventListener or the Page Visibility API\n    if (typeof document.addEventListener === \"undefined\" || hidden === undefined) {\n      console.log(\"This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API.\");\n    } else {\n      // Handle page visibility change   \n      document.addEventListener(visibilityChange, handleVisibilityChange, false);\n\n    }\n\n  }\n\n  reload=()=>{\n    console.log('reload');\n    this.startNotificationSocket();\n    this.changeQueryHandler(JSON.parse(this.state.latestQuery));\n  }\n\n  startNotificationSocket = () => {\n    if(socket){\n      socket.close();\n    }\n    var socketQuery = { \"v\": 3, \"q\": { \"find\": { \"out.s1\": \"13beK8bifnhuC8pawWvMrPCaWoTQi5LnZf\" } } };\n\n    var b64 = btoa(JSON.stringify(socketQuery))\n    // Subscribe to EventSource\n    var url = \"https://genesis.bitdb.network/s/1FnauZ9aUH2Bex6JzdcV4eNX7oLSSEbxtN/\" + b64;\n    var socket = new EventSource(url)\n    // Handle new messages\n\n    socket.onmessage = (e) => {\n\n      var transactions = JSON.parse(JSON.stringify(JSON.parse(e.data), null, 2)).data\n\n\n      console.log(transactions)\n      for (let tx of transactions) {\n        console.log(tx);\n        if (tx.out[0].s2 == 'discussion') {\n          var updatedTransactions = this.state.response[1].slice();\n          if (this.state.user) {\n            if (this.state.user.username != tx.out[0].s4) {\n              updatedTransactions.push({\n                type: 'discussion',\n                _id: tx.tx.h,\n                message: decodeURIComponent(tx.out[0].s3),\n                username: tx.out[0].s4\n              })\n            }\n\n          } else {\n            updatedTransactions.push({\n              type: 'discussion',\n              _id: tx.tx.h,\n              message: decodeURIComponent(tx.out[0].s3),\n              username: tx.out[0].s4\n            })\n          }\n          this.setState({ response: [this.state.response[0], updatedTransactions, this.state.response[2]] })\n        } else {\n          var updateQuery=this.state.latestQuery\n          var query = { type: 'update', latestTxid: tx.tx.h, query: JSON.parse(this.state.latestQuery) }\n          var b64 = btoa(JSON.stringify(query));\n          var url = 'https://wwww.bsvnews.today/q/' + b64;\n          fetch(url).then(res => {\n\n            return res.json();\n          }).then(r => {\n            var response = JSON.stringify(r, null, 2);\n            response = JSON.parse(response);\n            if(updateQuery==this.state.latestQuery){\n              this.setState({\n                response\n              })\n            }\n          })\n\n\n        }\n\n      }\n\n\n\n\n\n\n    }\n  }\n\n  postDiscussionMessage = (message) => {\n    var messageData = { type: 'discussion', message, username: this.state.user.username };\n    var updatedTransactions = this.state.response[1].slice();\n    updatedTransactions.push(messageData);\n    this.setState({ response: [this.state.response[0], updatedTransactions, this.state.response[2]] });\n\n  }\n\n  onScrollEnd = (e) => {\n    var contentContainer = document.getElementById('content-container');\n    if (contentContainer.offsetHeight + contentContainer.scrollTop >= contentContainer.scrollHeight) {\n      this.setState({ numContentItems: this.state.numContentItems + 25 })\n    }\n  }\n\n  setScrollEventListener = () => {\n    var contentContainer = document.getElementById('content-container');\n    contentContainer.addEventListener('scroll', this.onScrollEnd)\n  }\n\n  fetchData = async (query) => {\n\n    return new Promise(async resolve => {\n      var b64 = btoa(JSON.stringify(query));\n      var url = 'https://www.bsvnews.today/q/' + b64;\n      fetch(url).then(res => {\n\n        return res.json();\n      }).then(r => {\n        var result = JSON.stringify(r, null, 2);\n        result = JSON.parse(result);\n        resolve(result);\n      })\n\n    })\n  }\n\n  changeQueryHandler = async (query) => {\n    this.setState({ latestQuery: JSON.stringify(query) });\n    var response = await this.fetchData(query);\n    //checks if query hasn't been updated while fetching\n    if (this.state.latestQuery == JSON.stringify(query)) {\n      this.setState({\n        query,\n        response,\n        numContentItems: 10\n      })\n    }\n\n  }\n\n\n\n  replyHandler = (replyingTo) => {\n\n    if(this.state.user){this.setState({\n      replyingTo\n    });\n    document.getElementById('composeButton').click();}\n    else{\n      this.loginHandler();\n    }\n\n  }\n\n  cancelReplyHandler = () => {\n    setTimeout(() => {\n      this.setState({ replyingTo: null })\n      \n    }, 500);\n  }\n\n\n\n  componentDidMount() {\n\n    document.documentElement.setAttribute(\"data-wf-page\", \"5d5c432099f8055a71480feb\");\n    document.documentElement.setAttribute(\"data-wf-site\", \"5d5c1eff40c6bef7ea85f7d4\");\n\n\n\n    //jquery plus webflow\n    $script(\n      'https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js'\n      , () => $script('https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js', () => $script('https://bico.media/bfbad1409a5c301ddaf3ea7da214d7d2f14bf7351f4980e610c6ed47703a29b7.js', () => this.setState({ scriptsLoaded: true }))))\n\n\n\n  }\n\n  componentWillMount() {\n\n    $script(\"https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js\", () => $script('https://bico.media/ad5d292aade21e9aea6074d1a0cdaa8cc44b96feff80afc35aa2bdca5a3fc8c0', () => this.setState({ fontScriptsLoaded: true })))\n  }\n\n  loginHandler = () => {\n    const client = new MoneyButtonClient('c718a0b5fd8f38f4610ae5e1bf277d97');\n    client.requestAuthorization('auth.user_identity:read users.profiles:read', 'https://www.bsvnews.today');\n  }\n\n\n\n  render() {\n    var loading = (JSON.stringify(this.state.query) != this.state.latestQuery) || (!this.state.scriptsLoaded) || this.state.response.length == 0;\n\n    var showUser = this.state.query.type == 'userFeed' && this.state.response[2] && JSON.parse(this.state.latestQuery).type == 'userFeed' && !loading;\n    var postFeed = this.state.query.contentType == 'post' || this.state.query.type == 'post';\n    var commentFeed = this.state.query.contentType == 'comment';\n    var showSortAndFilter = JSON.parse(this.state.latestQuery).type != 'post';\n    var singlePostView = this.state.query.type === 'post';\n\n\n    var contentItems = 0\n    var posts = [];\n    if (postFeed && this.state.response[0]) {\n      for (let post of this.state.response[0]) {\n        if (contentItems < this.state.numContentItems) {\n          posts.push(<Post loginHandler={this.loginHandler} changeQueryHandler={this.changeQueryHandler} key={post._id} data={post} postView={singlePostView} user={this.state.user} replyHandler={this.replyHandler} />)\n          contentItems++;\n        }\n      }\n    }\n    var feedComments = [];\n\n    if (commentFeed && this.state.response[0]) {\n\n      for (let comment of this.state.response[0]) {\n        if (contentItems < this.state.numContentItems) {\n          feedComments.push(<FeedComment loginHandler={this.loginHandler} changeQueryHandler={this.changeQueryHandler} key={comment._id} data={comment} user={this.state.user} replyHandler={this.replyHandler} />)\n          contentItems++;\n        }\n      }\n    }\n\n    var feedData;\n    if (postFeed) {\n      feedData = posts;\n    } else {\n      feedData = feedComments;\n    }\n    var showFeed = !loading && this.state.response[0];\n\n\n\n\n    var loadingIndicator = (\n      <div style={{ width: '100%', display: 'flex', justifyContent: 'center' }} ><img style={{ width: '40px', height: '40px' }} src='https://guerillascience.org/wp-content/plugins/bbpowerpack/images/spinner.gif' /> </div>\n    );\n\n    return (\n      <div className=\"body-2\" style={this.state.fontScriptsLoaded ? null : { opacity: 0 }} >\n        <Helmet>\n\n          <meta charset=\"utf-8\" />\n          <title>BSV NEWS</title>\n          <meta content=\"width=device-width, initial-scale=1, maximum-scale=1,user-scalable=0\" name=\"viewport\" />\n\n          <meta content=\"Webflow\" name=\"generator\" />\n          {/* <script src=\"https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js\" type=\"text/javascript\"></script> */}\n          {/* <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js\" type=\"text/javascript\"></script> */}\n\n          {/* <script src=\"https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js\" type=\"text/javascript\"></script> */}\n          {/* google font */}\n          {/* <script src='https://bico.media/ad5d292aade21e9aea6074d1a0cdaa8cc44b96feff80afc35aa2bdca5a3fc8c0' type=\"text/javascript\" /> */}\n          {/* misc script */}\n\n\n        </Helmet>\n        <NavBar changeQueryHandler={this.changeQueryHandler} user={this.state.user} loginHandler={this.loginHandler} />\n        <div data-w-id=\"4af52811-6307-f07a-1959-d21bcda05f48\" onClick={() => {\n          setTimeout(() => {\n            document.getElementsByClassName('div-block-17')[0].scrollTop = document.getElementsByClassName('div-block-17')[0].scrollHeight\n\n          }, 20)\n        }} class=\"div-block-18\"><img src=\"https://bico.media/517a09f903abb8f3e723c77ca5053aa16235bbdec8760753a0837c85a4cfe521\" alt=\"\" class=\"image\" /></div>\n        <div data-w-id=\"52640f80-a281-b7ac-c786-0bca7acd6636\" class=\"div-block-4\">\n          <div class=\"div-block-15 smooth-scrolling\" id='content-container'>\n            <div class=\"div-block-5\" style={{ width: '100%' }} >\n              {showUser ? <ProfileStats data={this.state.response[2]} /> : null}\n              <div style={showSortAndFilter ? null : { display: 'none' }}>\n                <SortAndFiler query={JSON.parse(this.state.latestQuery)} changeSortAndFilter={this.changeQueryHandler} />\n\n              </div>\n              {/* {postFeed&& !loading ? posts : null}\n              {commentFeed && !loading? feedComments : null} */}\n              {showFeed ? <Feed data={feedData} /> : null}\n              {loading ? loadingIndicator : null}\n              {/* <PostComment /> */}\n            </div>\n          </div>\n          {/* post button */}\n          <div class=\"div-block-19\">\n            <div data-w-id=\"4a1870aa-ff99-fbd6-0ef7-9e766b2be4be\" onClick={this.state.user?null:()=>this.loginHandler()} id=\"composeButton\" class=\"div-block-20\">\n              <div class=\"text-block-13\">+</div>\n            </div>\n          </div>\n        </div>\n        <Discussion loginHandler={this.loginHandler} postDiscussionMessage={this.postDiscussionMessage} data={this.state.response[1]} changeQueryHandler={this.changeQueryHandler} user={this.state.user} />\n        <Alert user={this.state.user} replyingTo={this.state.replyingTo} cancelReplyHandler={this.cancelReplyHandler} />}\n\n      </div>\n\n\n    );\n  }\n}\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}